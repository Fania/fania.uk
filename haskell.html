<!doctype html>

<html lang="en-GB">

<head>
	<title>Fania</title>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0, minimal-ui">
  
	<link rel="stylesheet" href="meta/styles.css">

  <!-- MAP/SPIRAL FAVICONS, PWA -->
  <link rel="apple-touch-icon" sizes="180x180" href="images/favicons/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="images/favicons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="images/favicons/favicon-16x16.png">
  <link rel="manifest" href="images/favicons/manifest.json">
  <link rel="mask-icon" href="images/favicons/safari-pinned-tab.svg" color="#222D3F">
  <link rel="shortcut icon" href="images/favicons/favicon.ico">
  <meta name="msapplication-config" content="images/favicons/browserconfig.xml">
  <meta name="theme-color" content="#222D3F">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="apple-mobile-web-app-title" content="Fania EU">

  <!-- <script type="text/javascript" async src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-MML-AM_CHTML"></script> -->
  <script type="text/javascript" async src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML"></script>
	<script type="text/x-mathjax-config">
  MathJax.Hub.Config({tex2jax: {inlineMath: [['$','$']]},
											TeX:     {extensions: ["color.js"],
																Macros:     {RR:    '{\\bf R}',
												                     bold:  ['{\\bf #1}', 1]}
															 }
										 });
	</script>

  <style>

    #haskell {
      display: block;
      max-width: 900px;
      margin: 0 auto;
    }
    .content .haskell-img {
      width: 200px;
    }
    .content .half-half {
      display: flex;
      justify-content: space-between;
      align-items: center;
      flex-direction: column-reverse;
      border: 0;
    }
    .content .half-half h2 {
      margin-top: 1em;
    }
    div.sourceCode {
      overflow: auto;
      width: auto;
      background: #e1e7de;
      padding: 4px;
      line-height: 1.5em;
    }
    div.sourceCode pre code {
      max-width: 300px;
    }
    .mjx-chtml {
      transform: scale(0.75) translateX(-40px);
    }

    @media screen and (min-width: 500px) {

      .content .half-half {
        flex-direction: row;
      }

      .int_menu {
        transform: translateX(calc(-50vw + 80px));
      }
      .ext_menu {
        transform: translateX(calc(50vw - 80px));
      }

      .mjx-chtml {
        transform: scale(1) translateX(0);
      }

    }

  </style>

</head>

<body>

<!-- menu radios -->
<input type="radio" id="home_button" name="mainnav" checked>
<input type="radio" id="bookmarks_button" name="mainnav">
<input type="radio" id="about_button" name="mainnav">
<input type="radio" id="cheats_button" name="mainnav">
<input type="radio" id="images_button" name="mainnav">
<input type="radio" id="cats_button" name="mainnav">
<input type="radio" id="secret_button" name="mainnav">

<!-- mobile menu button -->
<input type="checkbox" id="menu_button">
<label for="menu_button"></label>

<!-- menu internal + external -->
<nav class="int_menu">
  <label for="home_button"><a title="Home" href="/"><img class="link spiral" src="images/favicons/spiral-static.svg"></a></label>
  <svg class="fas fa-code" xmlns="http://www.w3.org/2000/svg" height="1em" viewBox="0 0 640 512"><path d="M392.8 1.2c-17-4.9-34.7 5-39.6 22l-128 448c-4.9 17 5 34.7 22 39.6s34.7-5 39.6-22l128-448c4.9-17-5-34.7-22-39.6zm80.6 120.1c-12.5 12.5-12.5 32.8 0 45.3L562.7 256l-89.4 89.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l112-112c12.5-12.5 12.5-32.8 0-45.3l-112-112c-12.5-12.5-32.8-12.5-45.3 0zm-306.7 0c-12.5-12.5-32.8-12.5-45.3 0l-112 112c-12.5 12.5-12.5 32.8 0 45.3l112 112c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L77.3 256l89.4-89.4c12.5-12.5 12.5-32.8 0-45.3z"/></svg>
  <label for="about_button"><a title="About" href="/#about"><svg class="link fas fa-graduation-cap" xmlns="http://www.w3.org/2000/svg" height="1em" viewBox="0 0 640 512"><path d="M320 32c-8.1 0-16.1 1.4-23.7 4.1L15.8 137.4C6.3 140.9 0 149.9 0 160s6.3 19.1 15.8 22.6l57.9 20.9C57.3 229.3 48 259.8 48 291.9v28.1c0 28.4-10.8 57.7-22.3 80.8c-6.5 13-13.9 25.8-22.5 37.6C0 442.7-.9 448.3 .9 453.4s6 8.9 11.2 10.2l64 16c4.2 1.1 8.7 .3 12.4-2s6.3-6.1 7.1-10.4c8.6-42.8 4.3-81.2-2.1-108.7C90.3 344.3 86 329.8 80 316.5V291.9c0-30.2 10.2-58.7 27.9-81.5c12.9-15.5 29.6-28 49.2-35.7l157-61.7c8.2-3.2 17.5 .8 20.7 9s-.8 17.5-9 20.7l-157 61.7c-12.4 4.9-23.3 12.4-32.2 21.6l159.6 57.6c7.6 2.7 15.6 4.1 23.7 4.1s16.1-1.4 23.7-4.1L624.2 182.6c9.5-3.4 15.8-12.5 15.8-22.6s-6.3-19.1-15.8-22.6L343.7 36.1C336.1 33.4 328.1 32 320 32zM128 408c0 35.3 86 72 192 72s192-36.7 192-72L496.7 262.6 354.5 314c-11.1 4-22.8 6-34.5 6s-23.5-2-34.5-6L143.3 262.6 128 408z"/></svg></a></label>
  <svg class="fas fa-heartbeat" xmlns="http://www.w3.org/2000/svg" height="1em" viewBox="0 0 512 512"><path d="M228.3 469.1L47.6 300.4c-4.2-3.9-8.2-8.1-11.9-12.4h87c22.6 0 43-13.6 51.7-34.5l10.5-25.2 49.3 109.5c3.8 8.5 12.1 14 21.4 14.1s17.8-5 22-13.3L320 253.7l1.7 3.4c9.5 19 28.9 31 50.1 31H476.3c-3.7 4.3-7.7 8.5-11.9 12.4L283.7 469.1c-7.5 7-17.4 10.9-27.7 10.9s-20.2-3.9-27.7-10.9zM503.7 240h-132c-3 0-5.8-1.7-7.2-4.4l-23.2-46.3c-4.1-8.1-12.4-13.3-21.5-13.3s-17.4 5.1-21.5 13.3l-41.4 82.8L205.9 158.2c-3.9-8.7-12.7-14.3-22.2-14.1s-18.1 5.9-21.8 14.8l-31.8 76.3c-1.2 3-4.2 4.9-7.4 4.9H16c-2.6 0-5 .4-7.3 1.1C3 225.2 0 208.2 0 190.9v-5.8c0-69.9 50.5-129.5 119.4-141C165 36.5 211.4 51.4 244 84l12 12 12-12c32.6-32.6 79-47.5 124.6-39.9C461.5 55.6 512 115.2 512 185.1v5.8c0 16.9-2.8 33.5-8.3 49.1z"/></svg>
  <svg class="fas fa-wheelchair" xmlns="http://www.w3.org/2000/svg" height="1em" viewBox="0 0 512 512"><path d="M192 96a48 48 0 1 0 0-96 48 48 0 1 0 0 96zM120.5 247.2c12.4-4.7 18.7-18.5 14-30.9s-18.5-18.7-30.9-14C43.1 225.1 0 283.5 0 352c0 88.4 71.6 160 160 160c61.2 0 114.3-34.3 141.2-84.7c6.2-11.7 1.8-26.2-9.9-32.5s-26.2-1.8-32.5 9.9C240 440 202.8 464 160 464C98.1 464 48 413.9 48 352c0-47.9 30.1-88.8 72.5-104.8zM259.8 176l-1.9-9.7c-4.5-22.3-24-38.3-46.8-38.3c-30.1 0-52.7 27.5-46.8 57l23.1 115.5c6 29.9 32.2 51.4 62.8 51.4h5.1c.4 0 .8 0 1.3 0h94.1c6.7 0 12.6 4.1 15 10.4L402 459.2c6 16.1 23.8 24.6 40.1 19.1l48-16c16.8-5.6 25.8-23.7 20.2-40.5s-23.7-25.8-40.5-20.2l-18.7 6.2-25.5-68c-11.7-31.2-41.6-51.9-74.9-51.9H282.2l-9.6-48H336c17.7 0 32-14.3 32-32s-14.3-32-32-32H259.8z"/></svg>
  <label for="portfolio_button"><a title="Portfolio" href="/#portfolio">
  <svg class="link fas fa-star" xmlns="http://www.w3.org/2000/svg" height="1em" viewBox="0 0 576 512"><path d="M316.9 18C311.6 7 300.4 0 288.1 0s-23.4 7-28.8 18L195 150.3 51.4 171.5c-12 1.8-22 10.2-25.7 21.7s-.7 24.2 7.9 32.7L137.8 329 113.2 474.7c-2 12 3 24.2 12.9 31.3s23 8 33.8 2.3l128.3-68.5 128.3 68.5c10.8 5.7 23.9 4.9 33.8-2.3s14.9-19.3 12.9-31.3L438.5 329 542.7 225.9c8.6-8.5 11.7-21.2 7.9-32.7s-13.7-19.9-25.7-21.7L381.2 150.3 316.9 18z"/></svg></a></label>
  <svg class="fas fa-tree" xmlns="http://www.w3.org/2000/svg" height="1em" viewBox="0 0 448 512"><path d="M210.6 5.9L62 169.4c-3.9 4.2-6 9.8-6 15.5C56 197.7 66.3 208 79.1 208H104L30.6 281.4c-4.2 4.2-6.6 10-6.6 16C24 309.9 34.1 320 46.6 320H80L5.4 409.5C1.9 413.7 0 419 0 424.5c0 13 10.5 23.5 23.5 23.5H192v32c0 17.7 14.3 32 32 32s32-14.3 32-32V448H424.5c13 0 23.5-10.5 23.5-23.5c0-5.5-1.9-10.8-5.4-15L368 320h33.4c12.5 0 22.6-10.1 22.6-22.6c0-6-2.4-11.8-6.6-16L344 208h24.9c12.7 0 23.1-10.3 23.1-23.1c0-5.7-2.1-11.3-6-15.5L237.4 5.9C234 2.1 229.1 0 224 0s-10 2.1-13.4 5.9z"/></svg>
  <label for="cats_button"><a href="#cats" title="Meow"><svg class="fas fa-cat" xmlns="http://www.w3.org/2000/svg" height="1em" viewBox="0 0 576 512"><path d="M320 192h17.1c22.1 38.3 63.5 64 110.9 64c11 0 21.8-1.4 32-4v4 32V480c0 17.7-14.3 32-32 32s-32-14.3-32-32V339.2L280 448h56c17.7 0 32 14.3 32 32s-14.3 32-32 32H192c-53 0-96-43-96-96V192.5c0-16.1-12-29.8-28-31.8l-7.9-1c-17.5-2.2-30-18.2-27.8-35.7s18.2-30 35.7-27.8l7.9 1c48 6 84.1 46.8 84.1 95.3v85.3c34.4-51.7 93.2-85.8 160-85.8zm160 26.5v0c-10 3.5-20.8 5.5-32 5.5c-28.4 0-54-12.4-71.6-32h0c-3.7-4.1-7-8.5-9.9-13.2C357.3 164 352 146.6 352 128v0V32 12 10.7C352 4.8 356.7 .1 362.6 0h.2c3.3 0 6.4 1.6 8.4 4.2l0 .1L384 21.3l27.2 36.3L416 64h64l4.8-6.4L512 21.3 524.8 4.3l0-.1c2-2.6 5.1-4.2 8.4-4.2h.2C539.3 .1 544 4.8 544 10.7V12 32v96c0 17.3-4.6 33.6-12.6 47.6c-11.3 19.8-29.6 35.2-51.4 42.9zM432 128a16 16 0 1 0 -32 0 16 16 0 1 0 32 0zm48 16a16 16 0 1 0 0-32 16 16 0 1 0 0 32z"/></svg></a></label>
  <label for="images_button"><a title="Images" href="/#images"><svg class="link fas fa-camera" xmlns="http://www.w3.org/2000/svg" height="1em" viewBox="0 0 512 512"><path d="M149.1 64.8L138.7 96H64C28.7 96 0 124.7 0 160V416c0 35.3 28.7 64 64 64H448c35.3 0 64-28.7 64-64V160c0-35.3-28.7-64-64-64H373.3L362.9 64.8C356.4 45.2 338.1 32 317.4 32H194.6c-20.7 0-39 13.2-45.5 32.8zM256 192a96 96 0 1 1 0 192 96 96 0 1 1 0-192z"/></svg></a></label>
  <svg class="fas fa-bed" xmlns="http://www.w3.org/2000/svg" height="1em" viewBox="0 0 640 512"><path d="M32 32c17.7 0 32 14.3 32 32V320H288V160c0-17.7 14.3-32 32-32H544c53 0 96 43 96 96V448c0 17.7-14.3 32-32 32s-32-14.3-32-32V416H352 320 64v32c0 17.7-14.3 32-32 32s-32-14.3-32-32V64C0 46.3 14.3 32 32 32zm144 96a80 80 0 1 1 0 160 80 80 0 1 1 0-160z"/></svg>
  <a title="Haskell" href="/haskell.html"><img title="Haskell" class="link haskell" src="images/Haskell.svg"></a>
  <a href="now/index.html" title="Now"><svg class="fas fa-hand-spock" xmlns="http://www.w3.org/2000/svg" height="1em" viewBox="0 0 576 512"><path d="M246.9 23.7C242.3 6.6 224.8-3.5 207.7 1.1s-27.2 22.1-22.6 39.2L238 237.8c2.5 9.2-4.5 18.2-14 18.2c-6.4 0-12-4.2-13.9-10.3L166.6 102.7c-5.1-16.9-23-26.4-39.9-21.3s-26.4 23-21.3 39.9l62.8 206.4c2.4 7.9-7.2 13.8-13.2 8.1L99.6 283c-16-15.2-41.3-14.6-56.6 1.4s-14.6 41.3 1.4 56.6L156.8 448c43.1 41.1 100.4 64 160 64h10.9 8.2c.1 0 .1-.1 .1-.1s.1-.1 .1-.1c58.3-3.5 108.6-43.2 125.3-99.7l81.2-275c5-16.9-4.7-34.7-21.6-39.8s-34.7 4.7-39.8 21.6L443.5 247.1c-1.6 5.3-6.4 8.9-12 8.9c-7.9 0-13.8-7.3-12.2-15.1l36-170.3c3.7-17.3-7.4-34.3-24.7-37.9s-34.3 7.4-37.9 24.7L355.1 235.1c-2.6 12.2-13.3 20.9-25.8 20.9c-11.9 0-22.4-8-25.4-19.5l-57-212.8z"/></svg></a>
  <label for="cheats_button"><a title="Cheats" href="/#cheats"><svg class="link fas fa-bug" xmlns="http://www.w3.org/2000/svg" height="1em" viewBox="0 0 512 512"><path d="M256 0c53 0 96 43 96 96v3.6c0 15.7-12.7 28.4-28.4 28.4H188.4c-15.7 0-28.4-12.7-28.4-28.4V96c0-53 43-96 96-96zM41.4 105.4c12.5-12.5 32.8-12.5 45.3 0l64 64c.7 .7 1.3 1.4 1.9 2.1c14.2-7.3 30.4-11.4 47.5-11.4H312c17.1 0 33.2 4.1 47.5 11.4c.6-.7 1.2-1.4 1.9-2.1l64-64c12.5-12.5 32.8-12.5 45.3 0s12.5 32.8 0 45.3l-64 64c-.7 .7-1.4 1.3-2.1 1.9c6.2 12 10.1 25.3 11.1 39.5H480c17.7 0 32 14.3 32 32s-14.3 32-32 32H416c0 24.6-5.5 47.8-15.4 68.6c2.2 1.3 4.2 2.9 6 4.8l64 64c12.5 12.5 12.5 32.8 0 45.3s-32.8 12.5-45.3 0l-63.1-63.1c-24.5 21.8-55.8 36.2-90.3 39.6V240c0-8.8-7.2-16-16-16s-16 7.2-16 16V479.2c-34.5-3.4-65.8-17.8-90.3-39.6L86.6 502.6c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3l64-64c1.9-1.9 3.9-3.4 6-4.8C101.5 367.8 96 344.6 96 320H32c-17.7 0-32-14.3-32-32s14.3-32 32-32H96.3c1.1-14.1 5-27.5 11.1-39.5c-.7-.6-1.4-1.2-2.1-1.9l-64-64c-12.5-12.5-12.5-32.8 0-45.3z"/></svg></a></label>
  <svg class="fas fa-music" xmlns="http://www.w3.org/2000/svg" height="1em" viewBox="0 0 512 512"><path d="M499.1 6.3c8.1 6 12.9 15.6 12.9 25.7v72V368c0 44.2-43 80-96 80s-96-35.8-96-80s43-80 96-80c11.2 0 22 1.6 32 4.6V147L192 223.8V432c0 44.2-43 80-96 80s-96-35.8-96-80s43-80 96-80c11.2 0 22 1.6 32 4.6V200 128c0-14.1 9.3-26.6 22.8-30.7l320-96c9.7-2.9 20.2-1.1 28.3 5z"/></svg>
</nav>
<nav class="ext_menu">
  <label for="secret_button"><a href="/#secret" title="&lt;3"><svg class="fas fa-smile" xmlns="http://www.w3.org/2000/svg" height="1em" viewBox="0 0 512 512"><path d="M256 512A256 256 0 1 0 256 0a256 256 0 1 0 0 512zM164.1 325.5C182 346.2 212.6 368 256 368s74-21.8 91.9-42.5c5.8-6.7 15.9-7.4 22.6-1.6s7.4 15.9 1.6 22.6C349.8 372.1 311.1 400 256 400s-93.8-27.9-116.1-53.5c-5.8-6.7-5.1-16.8 1.6-22.6s16.8-5.1 22.6 1.6zM144.4 208a32 32 0 1 1 64 0 32 32 0 1 1 -64 0zm192-32a32 32 0 1 1 0 64 32 32 0 1 1 0-64z"/></svg></a></label>
  <svg class="fas fa-moon" xmlns="http://www.w3.org/2000/svg" height="1em" viewBox="0 0 384 512"><path d="M223.5 32C100 32 0 132.3 0 256S100 480 223.5 480c60.6 0 115.5-24.2 155.8-63.4c5-4.9 6.3-12.5 3.1-18.7s-10.1-9.7-17-8.5c-9.8 1.7-19.8 2.6-30.1 2.6c-96.9 0-175.5-78.8-175.5-176c0-65.8 36-123.1 89.3-153.3c6.1-3.5 9.2-10.5 7.7-17.3s-7.3-11.9-14.3-12.5c-6.3-.5-12.6-.8-19-.8z"/></svg>
  <a title="GitHub" href="https://github.com/fania/" rel="noopener"><svg class="fab fa-github-alt" xmlns="http://www.w3.org/2000/svg" height="1em" viewBox="0 0 480 512"><path d="M186.1 328.7c0 20.9-10.9 55.1-36.7 55.1s-36.7-34.2-36.7-55.1 10.9-55.1 36.7-55.1 36.7 34.2 36.7 55.1zM480 278.2c0 31.9-3.2 65.7-17.5 95-37.9 76.6-142.1 74.8-216.7 74.8-75.8 0-186.2 2.7-225.6-74.8-14.6-29-20.2-63.1-20.2-95 0-41.9 13.9-81.5 41.5-113.6-5.2-15.8-7.7-32.4-7.7-48.8 0-21.5 4.9-32.3 14.6-51.8 45.3 0 74.3 9 108.8 36 29-6.9 58.8-10 88.7-10 27 0 54.2 2.9 80.4 9.2 34-26.7 63-35.2 107.8-35.2 9.8 19.5 14.6 30.3 14.6 51.8 0 16.4-2.6 32.7-7.7 48.2 27.5 32.4 39 72.3 39 114.2zm-64.3 50.5c0-43.9-26.7-82.6-73.5-82.6-18.9 0-37 3.4-56 6-14.9 2.3-29.8 3.2-45.1 3.2-15.2 0-30.1-.9-45.1-3.2-18.7-2.6-37-6-56-6-46.8 0-73.5 38.7-73.5 82.6 0 87.8 80.4 101.3 150.4 101.3h48.2c70.3 0 150.6-13.4 150.6-101.3zm-82.6-55.1c-25.8 0-36.7 34.2-36.7 55.1s10.9 55.1 36.7 55.1 36.7-34.2 36.7-55.1-10.9-55.1-36.7-55.1z"/></svg></a>
  <svg class="fas fa-suitcase" xmlns="http://www.w3.org/2000/svg" height="1em" viewBox="0 0 512 512"><path d="M176 56V96H336V56c0-4.4-3.6-8-8-8H184c-4.4 0-8 3.6-8 8zM128 96V56c0-30.9 25.1-56 56-56H328c30.9 0 56 25.1 56 56V96v32V480H128V128 96zM64 96H96V480H64c-35.3 0-64-28.7-64-64V160c0-35.3 28.7-64 64-64zM448 480H416V96h32c35.3 0 64 28.7 64 64V416c0 35.3-28.7 64-64 64z"/></svg>
  <a title="Adademia" href="https://orcid.org/0000-0001-5400-1031" rel="noopener"><svg class="fas fa-university" xmlns="http://www.w3.org/2000/svg" height="1em" viewBox="0 0 512 512"><path d="M243.4 2.6l-224 96c-14 6-21.8 21-18.7 35.8S16.8 160 32 160v8c0 13.3 10.7 24 24 24H456c13.3 0 24-10.7 24-24v-8c15.2 0 28.3-10.7 31.3-25.6s-4.8-29.9-18.7-35.8l-224-96c-8-3.4-17.2-3.4-25.2 0zM128 224H64V420.3c-.6 .3-1.2 .7-1.8 1.1l-48 32c-11.7 7.8-17 22.4-12.9 35.9S17.9 512 32 512H480c14.1 0 26.5-9.2 30.6-22.7s-1.1-28.1-12.9-35.9l-48-32c-.6-.4-1.2-.7-1.8-1.1V224H384V416H344V224H280V416H232V224H168V416H128V224zM256 64a32 32 0 1 1 0 64 32 32 0 1 1 0-64z"/></svg></a>
  <svg class="fab fa-reddit-alien" xmlns="http://www.w3.org/2000/svg" height="1em" viewBox="0 0 512 512"><path d="M440.3 203.5c-15 0-28.2 6.2-37.9 15.9-35.7-24.7-83.8-40.6-137.1-42.3L293 52.3l88.2 19.8c0 21.6 17.6 39.2 39.2 39.2 22 0 39.7-18.1 39.7-39.7s-17.6-39.7-39.7-39.7c-15.4 0-28.7 9.3-35.3 22l-97.4-21.6c-4.9-1.3-9.7 2.2-11 7.1L246.3 177c-52.9 2.2-100.5 18.1-136.3 42.8-9.7-10.1-23.4-16.3-38.4-16.3-55.6 0-73.8 74.6-22.9 100.1-1.8 7.9-2.6 16.3-2.6 24.7 0 83.8 94.4 151.7 210.3 151.7 116.4 0 210.8-67.9 210.8-151.7 0-8.4-.9-17.2-3.1-25.1 49.9-25.6 31.5-99.7-23.8-99.7zM129.4 308.9c0-22 17.6-39.7 39.7-39.7 21.6 0 39.2 17.6 39.2 39.7 0 21.6-17.6 39.2-39.2 39.2-22 .1-39.7-17.6-39.7-39.2zm214.3 93.5c-36.4 36.4-139.1 36.4-175.5 0-4-3.5-4-9.7 0-13.7 3.5-3.5 9.7-3.5 13.2 0 27.8 28.5 120 29 149 0 3.5-3.5 9.7-3.5 13.2 0 4.1 4 4.1 10.2.1 13.7zm-.8-54.2c-21.6 0-39.2-17.6-39.2-39.2 0-22 17.6-39.7 39.2-39.7 22 0 39.7 17.6 39.7 39.7-.1 21.5-17.7 39.2-39.7 39.2z"/></svg>
  <svg class="fas fa-puzzle-piece" xmlns="http://www.w3.org/2000/svg" height="1em" viewBox="0 0 512 512"><path d="M192 104.8c0-9.2-5.8-17.3-13.2-22.8C167.2 73.3 160 61.3 160 48c0-26.5 28.7-48 64-48s64 21.5 64 48c0 13.3-7.2 25.3-18.8 34c-7.4 5.5-13.2 13.6-13.2 22.8v0c0 12.8 10.4 23.2 23.2 23.2H336c26.5 0 48 21.5 48 48v56.8c0 12.8 10.4 23.2 23.2 23.2v0c9.2 0 17.3-5.8 22.8-13.2c8.7-11.6 20.7-18.8 34-18.8c26.5 0 48 28.7 48 64s-21.5 64-48 64c-13.3 0-25.3-7.2-34-18.8c-5.5-7.4-13.6-13.2-22.8-13.2v0c-12.8 0-23.2 10.4-23.2 23.2V464c0 26.5-21.5 48-48 48H279.2c-12.8 0-23.2-10.4-23.2-23.2v0c0-9.2 5.8-17.3 13.2-22.8c11.6-8.7 18.8-20.7 18.8-34c0-26.5-28.7-48-64-48s-64 21.5-64 48c0 13.3 7.2 25.3 18.8 34c7.4 5.5 13.2 13.6 13.2 22.8v0c0 12.8-10.4 23.2-23.2 23.2H48c-26.5 0-48-21.5-48-48V343.2C0 330.4 10.4 320 23.2 320v0c9.2 0 17.3 5.8 22.8 13.2C54.7 344.8 66.7 352 80 352c26.5 0 48-28.7 48-64s-21.5-64-48-64c-13.3 0-25.3 7.2-34 18.8C40.5 250.2 32.4 256 23.2 256v0C10.4 256 0 245.6 0 232.8V176c0-26.5 21.5-48 48-48H168.8c12.8 0 23.2-10.4 23.2-23.2v0z"/></svg>
  <svg class="fas fa-gamepad" xmlns="http://www.w3.org/2000/svg" height="1em" viewBox="0 0 640 512"><path d="M192 64C86 64 0 150 0 256S86 448 192 448H448c106 0 192-86 192-192s-86-192-192-192H192zM496 168a40 40 0 1 1 0 80 40 40 0 1 1 0-80zM392 304a40 40 0 1 1 80 0 40 40 0 1 1 -80 0zM168 200c0-13.3 10.7-24 24-24s24 10.7 24 24v32h32c13.3 0 24 10.7 24 24s-10.7 24-24 24H216v32c0 13.3-10.7 24-24 24s-24-10.7-24-24V280H136c-13.3 0-24-10.7-24-24s10.7-24 24-24h32V200z"/></svg>
  <a title="Codepen" href="https://codepen.io/fania/" rel="noopener"><svg class="fab fa-codepen" xmlns="http://www.w3.org/2000/svg" height="1em" viewBox="0 0 512 512"><path d="M502.285 159.704l-234-156c-7.987-4.915-16.511-4.96-24.571 0l-234 156C3.714 163.703 0 170.847 0 177.989v155.999c0 7.143 3.714 14.286 9.715 18.286l234 156.022c7.987 4.915 16.511 4.96 24.571 0l234-156.022c6-3.999 9.715-11.143 9.715-18.286V177.989c-.001-7.142-3.715-14.286-9.716-18.285zM278 63.131l172.286 114.858-76.857 51.429L278 165.703V63.131zm-44 0v102.572l-95.429 63.715-76.857-51.429L234 63.131zM44 219.132l55.143 36.857L44 292.846v-73.714zm190 229.715L61.714 333.989l76.857-51.429L234 346.275v102.572zm22-140.858l-77.715-52 77.715-52 77.715 52-77.715 52zm22 140.858V346.275l95.429-63.715 76.857 51.429L278 448.847zm190-156.001l-55.143-36.857L468 219.132v73.714z"/></svg></a>
  <svg class="fas fa-leaf" xmlns="http://www.w3.org/2000/svg" height="1em" viewBox="0 0 512 512"><path d="M272 96c-78.6 0-145.1 51.5-167.7 122.5c33.6-17 71.5-26.5 111.7-26.5h88c8.8 0 16 7.2 16 16s-7.2 16-16 16H288 216s0 0 0 0c-16.6 0-32.7 1.9-48.2 5.4c-25.9 5.9-50 16.4-71.4 30.7c0 0 0 0 0 0C38.3 298.8 0 364.9 0 440v16c0 13.3 10.7 24 24 24s24-10.7 24-24V440c0-48.7 20.7-92.5 53.8-123.2C121.6 392.3 190.3 448 272 448l1 0c132.1-.7 239-130.9 239-291.4c0-42.6-7.5-83.1-21.1-119.6c-2.6-6.9-12.7-6.6-16.2-.1C455.9 72.1 418.7 96 376 96L272 96z"/></svg>
  <svg class="fas fa-globe" xmlns="http://www.w3.org/2000/svg" height="1em" viewBox="0 0 512 512"><path d="M352 256c0 22.2-1.2 43.6-3.3 64H163.3c-2.2-20.4-3.3-41.8-3.3-64s1.2-43.6 3.3-64H348.7c2.2 20.4 3.3 41.8 3.3 64zm28.8-64H503.9c5.3 20.5 8.1 41.9 8.1 64s-2.8 43.5-8.1 64H380.8c2.1-20.6 3.2-42 3.2-64s-1.1-43.4-3.2-64zm112.6-32H376.7c-10-63.9-29.8-117.4-55.3-151.6c78.3 20.7 142 77.5 171.9 151.6zm-149.1 0H167.7c6.1-36.4 15.5-68.6 27-94.7c10.5-23.6 22.2-40.7 33.5-51.5C239.4 3.2 248.7 0 256 0s16.6 3.2 27.8 13.8c11.3 10.8 23 27.9 33.5 51.5c11.6 26 20.9 58.2 27 94.7zm-209 0H18.6C48.6 85.9 112.2 29.1 190.6 8.4C165.1 42.6 145.3 96.1 135.3 160zM8.1 192H131.2c-2.1 20.6-3.2 42-3.2 64s1.1 43.4 3.2 64H8.1C2.8 299.5 0 278.1 0 256s2.8-43.5 8.1-64zM194.7 446.6c-11.6-26-20.9-58.2-27-94.6H344.3c-6.1 36.4-15.5 68.6-27 94.6c-10.5 23.6-22.2 40.7-33.5 51.5C272.6 508.8 263.3 512 256 512s-16.6-3.2-27.8-13.8c-11.3-10.8-23-27.9-33.5-51.5zM135.3 352c10 63.9 29.8 117.4 55.3 151.6C112.2 482.9 48.6 426.1 18.6 352H135.3zm358.1 0c-30 74.1-93.6 130.9-171.9 151.6c25.5-34.2 45.2-87.7 55.3-151.6H493.4z"/></svg>
  <a title="Dave" href="http://daveeveritt.org/" rel="noopener"><svg class="fas fa-heart" xmlns="http://www.w3.org/2000/svg" height="1em" viewBox="0 0 512 512"><path d="M47.6 300.4L228.3 469.1c7.5 7 17.4 10.9 27.7 10.9s20.2-3.9 27.7-10.9L464.4 300.4c30.4-28.3 47.6-68 47.6-109.5v-5.8c0-69.9-50.5-129.5-119.4-141C347 36.5 300.6 51.4 268 84L256 96 244 84c-32.6-32.6-79-47.5-124.6-39.9C50.5 55.6 0 115.2 0 185.1v5.8c0 41.5 17.2 81.2 47.6 109.5z"/></svg></a>
  <svg class="fas fa-diagnoses" xmlns="http://www.w3.org/2000/svg" height="1em" viewBox="0 0 576 512"><path d="M288 176A88 88 0 1 0 288 0a88 88 0 1 0 0 176zM78.7 372.9c15-12.5 50-34.4 97.3-50.1V432H400V322.7c47.3 15.8 82.3 37.7 97.3 50.1c20.4 17 50.6 14.2 67.6-6.1s14.2-50.6-6.1-67.6c-12-10-30.1-22.5-53.2-35C497.2 278.4 481.7 288 464 288c-26.5 0-48-21.5-48-48c0-4.3 .6-8.4 1.6-12.4C379.1 215.9 335.3 208 288 208c-60.2 0-114.9 12.9-160 29.9c0 .7 0 1.4 0 2.1c0 26.5-21.5 48-48 48c-11.8 0-22.7-4.3-31-11.4c-13.1 8.1-23.7 15.9-31.7 22.5c-20.4 17-23.1 47.2-6.1 67.6s47.2 23.1 67.6 6.1zM24 464c-13.3 0-24 10.7-24 24s10.7 24 24 24H552c13.3 0 24-10.7 24-24s-10.7-24-24-24H24zM224 280a24 24 0 1 1 48 0 24 24 0 1 1 -48 0zm104 56a24 24 0 1 1 0 48 24 24 0 1 1 0-48zM96 240a16 16 0 1 0 -32 0 16 16 0 1 0 32 0zm368 16a16 16 0 1 0 0-32 16 16 0 1 0 0 32z"/></svg>
  <svg class="fas fa-frown" xmlns="http://www.w3.org/2000/svg" height="1em" viewBox="0 0 512 512"><path d="M256 512A256 256 0 1 0 256 0a256 256 0 1 0 0 512zM159.3 388.7c-2.6 8.4-11.6 13.2-20 10.5s-13.2-11.6-10.5-20C145.2 326.1 196.3 288 256 288s110.8 38.1 127.3 91.3c2.6 8.4-2.1 17.4-10.5 20s-17.4-2.1-20-10.5C340.5 349.4 302.1 320 256 320s-84.5 29.4-96.7 68.7zM144.4 208a32 32 0 1 1 64 0 32 32 0 1 1 -64 0zm192-32a32 32 0 1 1 0 64 32 32 0 1 1 0-64z"/></svg>
</nav>




<!-- MAIN CONTENT BELOW -->



<main>

<section id="haskell" class="content">
<h1>Haskell FAQ</h1>


<p><strong>Please note:</strong> this document was originally compiled for my work at De Montfort University teaching undergrads functional programming in Haskell. It hasn't been updated in a few years.</p>

<div class="half-half">
  <nav>
    <h2>Shortcuts</h2>
    <ul>
    <li><a href="#setup">Setup</a></li>
    <li><a href="#expressions">Expressions</a></li>
    <li><a href="#curry-lambda-and-sections">Curry, Lambda and Sections</a></li>
    <li><a href="#tuples-and-lists">Tuples and Lists</a></li>
    <li><a href="#types-polymorphism-and-order-of-execution">Types, Polymorphism and Order of Execution</a></li>
    <li><a href="#functions">Functions</a></li>
    <li><a href="#list-comprehensions">List comprehensions</a></li>
    <li><a href="#guards-and-map">Guards and map</a></li>
    </ul>
  </nav>
  <img class="haskell-img" src="images/Haskellcoloured.svg">
</div>

<h2 id="setup">Setup</h2>
<h3 id="how-do-i-open-ghci">How do I open GHCi?</h3>
<p>Just open a terminal window and simply type <code>ghci</code> to open the Glasgow Haskell Compiler in interactive mode.</p>
<p>In the computer labs in the Gateway building you need to log into Linux where Haskell is already installed. If you want to install Haskell on your laptop or home computer you can download it <a href="https://www.haskell.org/">here</a>. Alternatively, if you just quickly want to try an expression but do not have Haskell installed on your computer at home, you can use the interactive prompt on <a href="https://www.haskell.org/">haskell.org</a> or <a href="http://tryhaskell.org/">tryhaskell.org</a>. There is even an app for iOS devices (<a href="http://slidetocode.com/raskell">Raskell</a>). <strong>Let me know if you find a good app for Android!</strong></p>
<h3 id="what-is-the-point-of-set-t">What is the point of <code>:set +t</code>?</h3>
<p>Setting this will show the type of any value returned. It is optional but useful. You will have to set this every time you restart GHCi. Do not forget to type the <code>:</code> at the start of the expression. In some of the examples throughout the lab sessions you will encounter instructions telling you to type <code>:s +t</code> which might not work on your machine. Use <code>:set +t</code> instead.</p>
<h3 id="setting-up-your-ghci-config-file">Setting up your GHCi config file</h3>
<p>You may want to setup a config file on your profile which can save you typing out certain commands every time you start a new session. For example you can put the <code>:set +t</code> command into this file and you will never have to remember it again.</p>
<p>To do this, open your home folder on Linux and enable the viewing of hidden files. Find the <code>.ghc</code> folder. You need to create a new file called <code>ghci.conf</code> within that folder. Now, open this file and simply type in <code>:set +t</code> and save.</p>
<p>There are various other things you can do with this config file. For example you can change the prompt from <code>Prelude&gt;</code> to your name or the Haskell “logo” lambda (<code>λ</code>) using this command: <code>:set prompt &quot;λ&gt;&quot;</code>.</p>
<p>If you have installed GHC on your laptop or home computer you may have noticed that <code>:set +t</code> produces slightly different results than on the Gateway Linux lab machines. This is due to the version you are using.</p>
<p>In the labs (which use version 7.4.1) you would see something like this:</p>
<div class="sourceCode"><pre class="sourceCode haskell"><code class="sourceCode haskell"><span class="fu">&gt;</span> <span class="dv">4</span> <span class="fu">+</span> <span class="dv">6</span>
<span class="dv">10</span>
<span class="ot">it ::</span> <span class="dt">Integer</span></code></pre></div>
<p>If you installed the newest version of GHC (7.10.3) then you will see this instead:</p>
<div class="sourceCode"><pre class="sourceCode haskell"><code class="sourceCode haskell"><span class="fu">&gt;</span> <span class="dv">4</span> <span class="fu">+</span> <span class="dv">6</span>
<span class="dv">10</span>
<span class="ot">it ::</span> <span class="dt">Num</span> a <span class="ot">=&gt;</span> a</code></pre></div>
<p>Right now this might not mean much to you, so you can change this setting in your <code>ghci.conf</code> file (see above) by adding this command: <code>:set -XMonomorphismRestriction</code>. To change it back to what it was before change the command to: <code>:set -XNoMonomorphismRestriction</code>.</p>
<p>An example <code>ghci.conf</code> file can look like this:</p>
<div class="sourceCode"><pre class="sourceCode haskell"><code class="sourceCode haskell"><span class="fu">:</span>set <span class="fu">+</span>t
<span class="fu">:</span>set <span class="fu">-</span><span class="dt">XMonomorphismRestriction</span>
<span class="fu">:</span>set prompt <span class="st">&quot;λ&gt; &quot;</span></code></pre></div>
<h3 id="some-other-useful-commands-for-ghci">Some other useful commands for GHCi</h3>
<ul>
<li><code>:quit</code> or <code>:q</code> to leave your current GHCi session</li>
<li><code>:! clear</code> to clear your terminal window within an GHCi session</li>
</ul>
<h3 id="hoogle">Hoogle</h3>
<p>Do not forget you can check what functions do in <a href="https://www.haskell.org/hoogle/?hoogle=floor">Hoogle</a>: floor. For example, you can also search for functions by their type declarations: <code>String -&gt; Int</code> <a href="https://www.haskell.org/hoogle/?hoogle=String+-%3E+Int">Hoogle: String -&gt; Int</a>.</p>
<h3 id="how-do-i-load-scripts-into-ghci">How do I load scripts into GHCi?</h3>
<p>Once you have typed a few expressions into a text editor of your choice and saved the file with an <code>.hs</code> extension, you can load it into GHCi.</p>
<p>First you need to make sure your terminal prompt is in the right directory. Use the <code>cd</code> command to enter the folder where you saved the Haskell script. So, if you called your file <code>Script101.hs</code> and saved it in a folder called <code>CTEC1901</code> within your home directory, you need to enter the following commands into your terminal prompt: <code>cd CTEC1901</code>, then <code>ghci</code> and then <code>:load Script101.hs</code>.</p>
<div class="sourceCode"><pre class="sourceCode bash"><code class="sourceCode bash"><span class="ex">~</span>$ <span class="bu">cd</span> CTEC1901
<span class="ex">~/CTEC1901</span>$ <span class="ex">ghci</span>
<span class="ex">Prelude</span><span class="op">&gt;</span> :load Script101.hs
<span class="ex">*Main</span><span class="op">&gt;</span></code></pre></div>
<ul>
<li>Script names are case sensitive!</li>
<li><code>:reload</code> or <code>:r</code> to reload a script</li>
<li><code>:load</code> or <code>:l</code> to load a script</li>
<li>You need to be in the correct directory</li>
<li><code>:cd</code> to change directory within GHCi</li>
<li>You do not have to type the file extension <code>.hs</code></li>
</ul>
<h3 id="how-do-i-use-script-files-and-functions">How do I use script files and functions?</h3>
<p>Let us assume you have a script file which contains the following code:</p>
<div class="sourceCode"><pre class="sourceCode haskell"><code class="sourceCode haskell">add x y <span class="fu">=</span> x <span class="fu">+</span> y</code></pre></div>
<p>You can call this function in GHCi by loading the script and then typing:</p>
<div class="sourceCode"><pre class="sourceCode haskell"><code class="sourceCode haskell">add <span class="dv">4</span> <span class="dv">6</span></code></pre></div>
<p>which should then return:</p>
<div class="sourceCode"><pre class="sourceCode haskell"><code class="sourceCode haskell"><span class="dv">10</span>
<span class="ot">it ::</span> <span class="dt">Integer</span></code></pre></div>
<p>Similarly if your file contained the following code:</p>
<div class="sourceCode"><pre class="sourceCode haskell"><code class="sourceCode haskell"><span class="ot">add ::</span> (<span class="dt">Int</span>, <span class="dt">Int</span>) <span class="ot">-&gt;</span> <span class="dt">Int</span>
add (x,y) <span class="fu">=</span> x <span class="fu">+</span> y</code></pre></div>
<p>Then you need to type the following to call the function:</p>
<div class="sourceCode"><pre class="sourceCode haskell"><code class="sourceCode haskell">add (<span class="dv">4</span>,<span class="dv">6</span>)</code></pre></div>
<p>Note that the first line in your script <code>add :: (Int, Int) -&gt; Int</code> tells you which types of values you need to pass to the function as parameters. In this case the left hand side (before the <code>::</code>) tells you that the function is called <code>add</code> and the right hand side tells you that the function takes a <strong>tuple</strong> of two Integers <code>(Int, Int)</code> as input (before the <code>-&gt;</code>) and that the output of the function is an <code>Int</code> (after the <code>-&gt;</code>).</p>
<p><a href="#">back up</a></p>
<hr />
<h2 id="expressions">Expressions</h2>
<h3 id="div-and-mod-are-not-working">Div and mod are not working?</h3>
<p>The expressions <code>x `div` y</code> and <code>x `mod` y</code> need <strong>backwards quotes</strong> (left of the ‘1’ key on the keyboard). Note that the above notation is just syntactic sugar for <code>div x y</code> and <code>mod x y</code> - you can interchange them as you like.</p>
<h3 id="what-do-floor-and-ceiling-do">What do <code>floor</code> and <code>ceiling</code> do?</h3>
<p><code>floor x</code> returns the greatest integer not greater than x and similarly, <code>ceiling x</code> returns the least integer not less than x. So <code>floor 1.4</code> will return <code>1</code> and <code>ceiling 1.4</code> will return <code>2</code>. This is different from rounding!</p>
<h3 id="how-does-1-if-22-then-3-else-4-work">How does <code>1 + if 2==2 then 3 else 4</code> work?</h3>
<p>The <code>if</code> statement automatically takes precedence over the addition:</p>
<div class="sourceCode"><pre class="sourceCode haskell"><code class="sourceCode haskell"><span class="dv">1</span> <span class="fu">+</span> <span class="kw">if</span> <span class="dv">2</span> <span class="fu">==</span> <span class="dv">2</span> <span class="kw">then</span> <span class="dv">3</span> <span class="kw">else</span> <span class="dv">4</span>
<span class="dv">1</span> <span class="fu">+</span> ( <span class="kw">if</span> <span class="dv">2</span> <span class="fu">==</span> <span class="dv">2</span> <span class="kw">then</span> <span class="dv">3</span> <span class="kw">else</span> <span class="dv">4</span> )
<span class="dv">1</span> <span class="fu">+</span> ( <span class="kw">if</span> <span class="dt">True</span> <span class="kw">then</span> <span class="dv">3</span> <span class="kw">else</span> <span class="dv">4</span> ) 
<span class="co">-- 2 == 2 is True so we enter the `then` statement</span>
<span class="dv">1</span> <span class="fu">+</span> ( <span class="dv">3</span> )
<span class="dv">1</span> <span class="fu">+</span> <span class="dv">3</span>
<span class="dv">4</span></code></pre></div>
<h3 id="how-does-if-22-then-reverse-else-tail-abc-work">How does <code>(if 2/=2 then reverse else tail) &quot;abc&quot;</code> work?</h3>
<p>Here, the <code>if</code> statement determines which function to apply to the string <code>&quot;abc&quot;</code>. Since 2 is <strong><em>not</em></strong> not equal to 2, it is <code>False</code> and the function performs <code>tail &quot;abc&quot;</code> and returns <code>&quot;bc&quot;</code>.</p>
<h3 id="why-does-two-length-name-produce-an-error">Why does <code>two * length name</code> produce an error?</h3>
<p>In this particular example, the variable <code>two</code> is defined as <code>2</code> in your script which Haskell interprets as having type <code>Integer</code>. You can test this by using the <code>:type</code> or <code>:t</code> command:</p>
<div class="sourceCode"><pre class="sourceCode haskell"><code class="sourceCode haskell"><span class="fu">:</span>t two
<span class="ot">two ::</span> <span class="dt">Integer</span></code></pre></div>
<p><code>name</code> is defined as a String <code>&quot;Haskell&quot;</code> (of type<code>[Char]</code>). The function <code>length</code> returns an <code>Int</code> (see <a href="https://www.haskell.org/hoogle/?hoogle=length">here</a>), so <code>length name</code> will return an <code>7</code> of type <code>Int</code>.<br>Now, the multiplication function <code>*</code> requires you to call it with two values of the <strong>same numeric type</strong> (see <a href="https://www.haskell.org/hoogle/?hoogle=%28*%29">here</a>). But we have seen that GHCi interprets the value <code>two</code> as an <code>Integer</code> rather than an <code>Int</code>. Therefore trying to multiply it with <code>length name</code> (which returns an <code>Int</code>) GHCi will return an error:</p>
<div class="sourceCode"><pre class="sourceCode bash"><code class="sourceCode bash"><span class="ex">Could</span> not match expected type <span class="kw">`</span><span class="ex">Integer</span>’ with actual type <span class="kw">`</span>Int’
<span class="ex">In</span> the return type of a call of <span class="kw">`</span><span class="ex">length</span>’
<span class="ex">In</span> the second argument of <span class="kw">`</span>(*)’, <span class="ex">namely</span> <span class="kw">`</span><span class="ex">length</span> name’
<span class="ex">In</span> the expression: two * length name</code></pre></div>
<p>On the other hand, if you type <code>2 * length name</code> into your terminal it will return <code>14</code> of type <code>Int</code>. That is because manually typing a number into GHCi will default to an <code>Int</code>. One way around this would be to convert the two parts of the evaluation to the same type. For example you can convert an <code>Int</code> to an <code>Integer</code> by using the <code>fromIntegral</code> function (see <a href="https://www.haskell.org/hoogle/?hoogle=fromIntegral">here</a>).</p>
<div class="sourceCode"><pre class="sourceCode haskell"><code class="sourceCode haskell">two <span class="fu">*</span> fromIntegral (length name)
<span class="dv">14</span>
<span class="ot">it ::</span> <span class="dt">Integer</span></code></pre></div>
<p>Or using the <code>fromInteger</code> function (see <a href="https://www.haskell.org/hoogle/?hoogle=fromInteger">here</a>) similarly:</p>
<div class="sourceCode"><pre class="sourceCode haskell"><code class="sourceCode haskell">fromInteger two <span class="fu">*</span> length name
<span class="dv">14</span>
<span class="ot">it::</span> <span class="dt">Int</span></code></pre></div>
<p><a href="#">back up</a></p>
<hr />
<h2 id="curry-lambda-and-sections">Curry, Lambda and Sections</h2>
<p>See page 64 of David Smallwoods <a href="https://vle.dmu.ac.uk/bbcswebdav/pid-3025849-dt-content-rid-4603139_1/courses/CTEC1901_2015_Y/tut.pdf#page=72">tutorial file</a>. The following examples are taken from <a href="https://wunki.org/posts/2011-10-04-currying-and-partial-application.html">wunki.org</a></p>
<h3 id="curried-and-uncurried-functions">Curried and uncurried functions</h3>
<p><strong>Uncurried</strong> function:</p>
<div class="sourceCode"><pre class="sourceCode haskell"><code class="sourceCode haskell"><span class="ot">fooU ::</span> (<span class="dt">Int</span>, <span class="dt">Int</span>) <span class="ot">-&gt;</span> <span class="dt">Int</span>
fooU (x, y) <span class="fu">=</span> x <span class="fu">*</span> y</code></pre></div>
<p><strong>Curried</strong> function:</p>
<div class="sourceCode"><pre class="sourceCode haskell"><code class="sourceCode haskell"><span class="ot">fooC ::</span> <span class="dt">Int</span> <span class="ot">-&gt;</span> <span class="dt">Int</span> <span class="ot">-&gt;</span> <span class="dt">Int</span>
fooC x y <span class="fu">=</span> x <span class="fu">*</span> y</code></pre></div>
<p>The main difference <em>in very simple terms</em> is that the function parameters <code>x</code> and <code>y</code> are given separately in curried functions compared to a tuple in uncurried functions <code>(x,y)</code>.</p>
<h3 id="anonymous-lambda-functions">Anonymous / Lambda functions</h3>
<p>Lambda functions are sometimes called anonymous functions because they are not given a name.</p>
<div class="sourceCode"><pre class="sourceCode haskell"><code class="sourceCode haskell"><span class="ot">fooA ::</span> <span class="dt">Int</span> <span class="ot">-&gt;</span> <span class="dt">Int</span> <span class="ot">-&gt;</span> <span class="dt">Int</span>
fooA x <span class="fu">=</span> \y <span class="ot">-&gt;</span> x <span class="fu">*</span> y</code></pre></div>
<p>Note that the type signature indicates that the function takes 2 input parameters of type Int, even though in the function expression it only lists 1 of them as <code>x</code>.</p>
<div class="sourceCode"><pre class="sourceCode haskell"><code class="sourceCode haskell"><span class="fu">&gt;</span> <span class="kw">let</span> foo x <span class="fu">=</span> \y <span class="ot">-&gt;</span> x <span class="fu">*</span> y
<span class="fu">&gt;</span> foo <span class="dv">2</span> <span class="dv">3</span>
<span class="dv">6</span></code></pre></div>
<h3 id="sections-partial-application">Sections / Partial application</h3>
<blockquote>
<p>“Partial function application is the ability to take a function of many parameters and apply arguments to some of the parameters to create a new function that needs only the application of the remaining arguments to produce the equivalent of applying all arguments to the original function.” (<a href="http://rosettacode.org/wiki/Partial_function_application">Source</a> &amp; <a href="http://rosettacode.org/wiki/Partial_function_application#Haskell">Code examples</a>)</p>
</blockquote>
<p>Consider the following example:</p>
<div class="sourceCode"><pre class="sourceCode haskell"><code class="sourceCode haskell">sumTwo x y <span class="fu">=</span> x <span class="fu">+</span> y
addSeven <span class="fu">=</span> sumTwo <span class="dv">7</span></code></pre></div>
<p>The second line is equivalent to:</p>
<div class="sourceCode"><pre class="sourceCode haskell"><code class="sourceCode haskell">addSeven <span class="fu">=</span> \y <span class="ot">-&gt;</span> <span class="dv">7</span> <span class="fu">+</span> y</code></pre></div>
<p>and:</p>
<div class="sourceCode"><pre class="sourceCode haskell"><code class="sourceCode haskell">addSeven y <span class="fu">=</span> sumTwo <span class="dv">7</span> y</code></pre></div>
<p><a href="#">back up</a></p>
<hr />
<h2 id="tuples-and-lists">Tuples and Lists</h2>
<h3 id="what-is-the-difference-between-tuples-and-lists">What is the difference between <em>tuples</em> and <em>lists</em>?</h3>
<p>Lists are sequences of elements of the <strong>same type</strong>. They are enclosed by square brackets and separated by commas. E.g. <code>[1,2,3]</code> or <code>[’a’,’c’,’b’]</code>.</p>
<p>It is possible to have <strong>infinite lists</strong>, for example <code>[1,3..]</code> will produce the list of all odd numbers from 1 to infinity. If you type that into your terminal, remember you can interrupt a process by pressing <code>ctrl c</code>.</p>
<p>Tuples are <strong>finite</strong> sequences of elements of possibly different types. They are enclosed by round brackets and separated by commas. E.g. <code>(1, &quot;Hello&quot;)</code> or <code>(True, False)</code>.</p>
<p>Examples:</p>
<ul>
<li><code>[1..9]</code></li>
<li><code>([1..9], [’a’..’z’])</code></li>
<li><code>[[1,3,5,7,9], [0,2,4,6,8]]</code></li>
<li><code>(True, [1..])</code></li>
<li><code>((1, True), (0, False))</code></li>
<li><code>[(’a’, 1), (’b’, 2)]</code></li>
<li><code>(1, 2)</code></li>
</ul>
<h3 id="why-do-strings-have-the-type-char">Why do Strings have the type [Char]?</h3>
<p>Because in Haskell Strings are interpreted as a <strong>list of characters</strong>. This allows you to perform list functions like <code>head</code> and <code>tail</code> on Strings:</p>
<div class="sourceCode"><pre class="sourceCode haskell"><code class="sourceCode haskell">head <span class="st">&quot;Haskell&quot;</span>
’<span class="dt">H</span>’
<span class="ot">it ::</span> <span class="dt">Char</span></code></pre></div>
<div class="sourceCode"><pre class="sourceCode haskell"><code class="sourceCode haskell">tail <span class="st">&quot;Haskell&quot;</span>
<span class="st">&quot;askell&quot;</span>
<span class="ot">it ::</span> [<span class="dt">Char</span>]</code></pre></div>
<p>Also, this means that if you type in lists of characters into GHCi it will return them as strings of type <code>[Char]</code>.</p>
<div class="sourceCode"><pre class="sourceCode haskell"><code class="sourceCode haskell">[’<span class="dt">H</span>’,’a’,’s’,’k’,’e’,’l’,’l’]
<span class="st">&quot;Haskell&quot;</span>
<span class="ot">it ::</span> [<span class="dt">Char</span>]</code></pre></div>
<p><a href="#">back up</a></p>
<hr />
<h2 id="types-polymorphism-and-order-of-execution">Types, Polymorphism and Order of Execution</h2>
<h3 id="what-is-the-meaning-of-t">What is the meaning of <code>:t</code>?</h3>
<p><code>:t</code> is short for <code>:type</code> and returns the type definition of a function. E.g.:</p>
<div class="sourceCode"><pre class="sourceCode haskell"><code class="sourceCode haskell"><span class="fu">:</span>t sum
sum<span class="ot"> ::</span> <span class="dt">Num</span> a <span class="ot">=&gt;</span> [a] <span class="ot">-&gt;</span> a</code></pre></div>
<p>This is different from the <code>:set +t</code> command which sets GHCi to automatically return the type of an output from an expression (for the current session only though - so you have to set that every time you restart GHCi).</p>
<h3 id="what-are-function-types">What are function types?</h3>
<p>In general a function type definition has the following structure.</p>
<ul>
<li>To the left of the <code>::</code> you find the <strong>name</strong> of the function,</li>
<li>to the left of the <code>-&gt;</code> arrow you find the given type for the functions <strong>input</strong> parameters and</li>
<li>then on the right of the <code>-&gt;</code> arrow you find the type of the <strong>output</strong> value</li>
</ul>
<div class="sourceCode"><pre class="sourceCode haskell"><code class="sourceCode haskell"><span class="ot">functionName ::</span> <span class="dt">InputType</span> <span class="ot">-&gt;</span> <span class="dt">OutputType</span></code></pre></div>
<h3 id="what-is-the-difference-between-add-int-and-add-num-a-a">What is the difference between <code>add :: Int</code> and <code>add :: Num a =&gt; a</code>?</h3>
<p>In short, the first is more specific than the second.</p>
<div class="sourceCode"><pre class="sourceCode haskell"><code class="sourceCode haskell"><span class="ot">add ::</span> <span class="dt">Int</span> <span class="ot">-&gt;</span> <span class="dt">Int</span> <span class="ot">-&gt;</span> <span class="dt">Int</span> <span class="ot">-&gt;</span> <span class="dt">Int</span>
add x y z <span class="fu">=</span> x <span class="fu">+</span> y <span class="fu">+</span> z</code></pre></div>
<p>Calling this function with <code>Ints</code> will work fine:</p>
<div class="sourceCode"><pre class="sourceCode haskell"><code class="sourceCode haskell">add <span class="dv">1</span> <span class="dv">2</span> <span class="dv">3</span>
<span class="dv">6</span>
<span class="ot">it ::</span> <span class="dt">Int</span></code></pre></div>
<p>But trying to call it with any other kinds of numbers will not work:</p>
<div class="sourceCode"><pre class="sourceCode bash"><code class="sourceCode bash"><span class="ex">add</span> 1.4 2.6.3.0
<span class="ex">No</span> instance for (Fractional Int) <span class="ex">arising</span> from the literal <span class="kw">`</span><span class="ex">1.4</span>’
<span class="ex">In</span> the first argument of <span class="kw">`</span>add’, namely <span class="kw">`</span><span class="ex">1.4</span>’
<span class="ex">In</span> the expression: add 1.4 2.6 3.0
<span class="ex">In</span> an equation for <span class="kw">`</span>it’: it = add 1.4 2.6 3.0</code></pre></div>
<p>If your <code>add</code> function has the specific kind of type definition then trying to run <code>add 1.4 2.6.3.0</code> returns an error for example. This is because you have told Haskell that your function only works with <code>Ints</code>. If you use the more generic (<strong>polymorphic</strong> and <strong>overloaded</strong>) type definition however, then you would get the result.</p>
<div class="sourceCode"><pre class="sourceCode haskell"><code class="sourceCode haskell"><span class="ot">add ::</span> <span class="dt">Num</span> a <span class="ot">=&gt;</span> a <span class="ot">-&gt;</span> a <span class="ot">-&gt;</span> a <span class="ot">-&gt;</span> a
add x y z <span class="fu">=</span> x <span class="fu">+</span> y <span class="fu">+</span> z</code></pre></div>
<div class="sourceCode"><pre class="sourceCode haskell"><code class="sourceCode haskell">add <span class="dv">1</span> <span class="dv">2</span> <span class="dv">3</span>
<span class="dv">6</span>
<span class="ot">it ::</span> <span class="dt">Num</span> a <span class="ot">=&gt;</span> a</code></pre></div>
<div class="sourceCode"><pre class="sourceCode haskell"><code class="sourceCode haskell">add <span class="fl">1.4</span> <span class="fl">2.6</span><span class="fu">.</span><span class="fl">3.0</span>
<span class="fl">7.0</span>
<span class="ot">it ::</span> <span class="dt">Fractional</span> a <span class="ot">=&gt;</span> a</code></pre></div>
<h3 id="what-are-polymorphic-and-overloaded-functions-again">What are <em>polymorphic</em> and <em>overloaded</em> functions again?</h3>
<p>A function is <strong>polymorphic</strong> if it takes values that can have <strong>more than one type</strong>. See the tutorial by David Smallwood <a href="https://vle.dmu.ac.uk/bbcswebdav/pid-3025849-dt-content-rid-4603139_1/courses/CTEC1901_2015_Y/tut.pdf#page63">here</a>. For example, <code>length</code> is defined polymorphically. In this case <code>a</code> is a <strong>type variable</strong> and represents any type. The function therefore takes a list of any type of value (<code>[Int]</code>, <code>[[Char]]</code>, <code>[(Double, Bool)]</code>, etc) but then specifically returns an <code>Int</code>.</p>
<div class="sourceCode"><pre class="sourceCode haskell"><code class="sourceCode haskell">length<span class="ot"> ::</span> [a] <span class="ot">-&gt;</span> <span class="dt">Int</span></code></pre></div>
<p>A polymorphic function is called <strong>overloaded</strong> if its type contains one or more <strong>class constraints</strong>. For example, the sum function takes a list <code>[a]</code> as input and returns a value of type <code>a</code> but this time <code>a</code> has to be of a <em>class of numeric types</em>. The numeric class (<code>Num</code>) contains all sorts of types: (<code>Int</code>, <code>Integer</code>, <code>Float</code>, <code>Double</code>, <code>Fractional</code>, etc) (See <a href="http://hackage.haskell.org/package/base-4.7.0.2/docs/Prelude.html#t:Num">Prelude#t:Num</a>).</p>
<div class="sourceCode"><pre class="sourceCode haskell"><code class="sourceCode haskell">sum<span class="ot"> ::</span> <span class="dt">Num</span> a <span class="ot">=&gt;</span> [a] <span class="ot">-&gt;</span> a</code></pre></div>
<div class="sourceCode"><pre class="sourceCode haskell"><code class="sourceCode haskell">sum [<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>]
<span class="dv">6</span>
<span class="ot">it ::</span> <span class="dt">Num</span> a <span class="ot">=&gt;</span> a</code></pre></div>
<div class="sourceCode"><pre class="sourceCode haskell"><code class="sourceCode haskell">sum [<span class="fl">2.5</span>, <span class="dv">3</span>, <span class="fl">4.5</span>]
<span class="fl">10.0</span>
<span class="ot">it ::</span> <span class="dt">Fractional</span> a <span class="ot">=&gt;</span> a</code></pre></div>
<ul>
<li>To the left of the <code>::</code> you find the <strong>name</strong> of the function,</li>
<li>between the <code>::</code> and the <code>=&gt;</code> you find the <strong>class constraint</strong>,</li>
<li>to the left of the <code>-&gt;</code> arrow you find the given type for the functions <strong>input</strong> parameters and</li>
<li>then on the right of the <code>-&gt;</code> arrow you find the type of the <strong>output</strong> value</li>
</ul>
<p><code>functionName :: ClassConstraint =&gt; InputType -&gt; OutputType</code>.</p>
<p>Other type classes include <code>Eq</code> for equality (see <a href="http://hackage.haskell.org/package/base-4.7.0.2/docs/Prelude.html#t:Eq">Prelude#t:Eq</a>) and <code>Ord</code> for orderable datatypes (see <a href="http://hackage.haskell.org/package/base-4.7.0.2/docs/Prelude.html#t:Ord">Prelude#t:Ord</a>). E.g.:</p>
<div class="sourceCode"><pre class="sourceCode haskell"><code class="sourceCode haskell"><span class="ot">(+)  ::</span> <span class="dt">Num</span> a <span class="ot">=&gt;</span> a <span class="ot">-&gt;</span> a <span class="ot">-&gt;</span> a
<span class="ot">(==) ::</span> <span class="dt">Eq</span> a <span class="ot">=&gt;</span> a <span class="ot">-&gt;</span> a <span class="ot">-&gt;</span> <span class="dt">Bool</span>
<span class="ot">(&lt;)  ::</span> <span class="dt">Ord</span> a <span class="ot">=&gt;</span> a <span class="ot">-&gt;</span> a <span class="ot">-&gt;</span> <span class="dt">Bool</span></code></pre></div>
<p>See also the LearnYouAHasekll chapter on types <a href="http://learnyouahaskell.com/types-and-typeclasses">here</a>.</p>
<h3 id="what-is-the-meaning-of-in-function-names">What is the meaning of <code>’</code> in function names?</h3>
<p>Often in the examples you will have encountered functions with a <code>’</code> at the end like <code>add’</code> vs. <code>add</code>. There is no specific meaning to this other than to give the function a slightly different name. We could have equally called it <code>add1</code> or <code>anotherAdd</code> to set it apart from the first <code>add</code> function we defined.<br>You might want to review Haskell <a href="https://wiki.haskell.org/Programming_guidelines#Naming_Conventions">naming conventions</a>.</p>
<h3 id="in-which-order-is-mult-x-y-z-evaulated">In which order is <code>mult x y z</code> evaulated?</h3>
<blockquote>
<p>“the <code>-&gt;</code> operator is right associative, and function application is left associative” (<a href="https://wiki.haskell.org/Partial_application">Source</a>)</p>
</blockquote>
<p>Because function application is left associative, <code>mult x y z</code> gets evaluated as <code>((mult x) y) z</code>.</p>
<div class="sourceCode"><pre class="sourceCode haskell"><code class="sourceCode haskell"><span class="ot">mult ::</span> <span class="dt">Int</span> <span class="ot">-&gt;</span> <span class="dt">Int</span> <span class="ot">-&gt;</span> <span class="dt">Int</span> <span class="ot">-&gt;</span> <span class="dt">Int</span>
mult x y z</code></pre></div>
<p>But remeber that the <code>-&gt;</code> operator is right associative, hence the function definition really looks something like this.</p>
<div class="sourceCode"><pre class="sourceCode haskell"><code class="sourceCode haskell"><span class="ot">mult ::</span> <span class="dt">Int</span> <span class="ot">-&gt;</span> (<span class="dt">Int</span> <span class="ot">-&gt;</span> (<span class="dt">Int</span> <span class="ot">-&gt;</span> <span class="dt">Int</span>))
((mult x) y) z</code></pre></div>
<p>You do not have to add these parenthesis, but you should know that this is the default order of evaluation!</p>
<p><a href="#">back up</a></p>
<hr />
<h2 id="functions">Functions</h2>
<h3 id="how-do-i-write-a-function-from-scratch">How do I write a function from scratch?</h3>
<p>In the first exercise we are asked to write a function that splits a list into two halves. We are given the <strong>type signature</strong> as a starting point.</p>
<div class="sourceCode"><pre class="sourceCode haskell"><code class="sourceCode haskell"><span class="ot">halve ::</span> [a] <span class="ot">-&gt;</span> ([a],[a])</code></pre></div>
<p>Let us start filling in the bits we know, for example we know the name of the function (<code>halve</code>) and that the output is structured as a <strong>tuple</strong>.</p>
<div class="sourceCode"><pre class="sourceCode haskell"><code class="sourceCode haskell"><span class="ot">halve ::</span> [a] <span class="ot">-&gt;</span> ([a],[a])
halve <span class="fu">=</span> (   ,   )</code></pre></div>
<p><em>Note that this will not run - GHCi will return an error because it is an incomplete function!</em></p>
<p>Next, we know the input to the function is a list of polymorphic type, so we know that we will be able to call this function in GHCi like this:</p>
<div class="sourceCode"><pre class="sourceCode haskell"><code class="sourceCode haskell">halve [<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">4</span>,<span class="dv">5</span>,<span class="dv">6</span>]</code></pre></div>
<p>and it should return a result like this:</p>
<div class="sourceCode"><pre class="sourceCode haskell"><code class="sourceCode haskell">([<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>],[<span class="dv">4</span>,<span class="dv">5</span>,<span class="dv">6</span>])</code></pre></div>
<p>Because the function is polymorphic we can also call it with <code>Char</code> types for example:</p>
<div class="sourceCode"><pre class="sourceCode haskell"><code class="sourceCode haskell">halve [’a’,’b’,’c’,’d’]</code></pre></div>
<p>which would return:</p>
<div class="sourceCode"><pre class="sourceCode haskell"><code class="sourceCode haskell">(<span class="st">&quot;ab&quot;</span>,<span class="st">&quot;cd&quot;</span>)</code></pre></div>
<p>Also, because “lists of <code>Chars</code>” are synonymous to <code>Strings</code> we can call the function with a <code>String</code> like this:</p>
<div class="sourceCode"><pre class="sourceCode haskell"><code class="sourceCode haskell">halve <span class="st">&quot;Haskell&quot;</span></code></pre></div>
<p>which would return:</p>
<div class="sourceCode"><pre class="sourceCode haskell"><code class="sourceCode haskell">(<span class="st">&quot;Has&quot;</span>,<span class="st">&quot;kell&quot;</span>)</code></pre></div>
<p><strong>Now, let us get back to writing our function by filling in the gaps of <code>halve  = (   ,   )</code>.</strong></p>
<p>We know from the <strong>type signature</strong> <code>halve :: [a] -&gt; ([a],[a])</code> that there is one input parameter of type <code>[a]</code> and one output tuple of type <code>([a],[a])</code>.</p>
<p><br /><span class="math display">$$
\definecolor{blue}{RGB}{181,204,227}
\text{halve} \ {\underbrace{\qquad\qquad\qquad} \atop \color{blue}\small\text{input parameter}} \ = \ ( {\underbrace{\qquad\qquad\qquad} \atop \color{blue}\small\text{first half}} \ , \ {\underbrace{\qquad\qquad\qquad} \atop \color{blue}\small\text{second half}} \ )
$$</span><br /></p>
<p>Let us call the input parameter <code>xs</code>: <em>remember the convention to put an <code>s</code> on variables that represent lists!</em></p>
<div class="sourceCode"><pre class="sourceCode haskell"><code class="sourceCode haskell">halve xs <span class="fu">=</span> (   ,   )</code></pre></div>
<p>Next, let us think of how to get the <strong>first half</strong> of <code>xs</code>. How do we know what <em>half</em> of the input list is? Well, it is the total length of <code>xs</code> divided by <code>2</code>, right?</p>
<div class="sourceCode"><pre class="sourceCode haskell"><code class="sourceCode haskell">length xs <span class="ot">`div`</span> <span class="dv">2</span></code></pre></div>
<p>Let us give this value a name (<code>n</code>) so that we can use it in our function by writing it into a <code>where</code> statement in a new line and slightly indented (this is important).</p>
<div class="sourceCode"><pre class="sourceCode haskell"><code class="sourceCode haskell"><span class="ot">halve ::</span> [a] <span class="ot">-&gt;</span> ([a],[a])
halve xs <span class="fu">=</span> (   ,   )
      <span class="kw">where</span> n <span class="fu">=</span> length xs <span class="ot">`div`</span> <span class="dv">2</span></code></pre></div>
<p>Now we can define the two halves in our output tuple using the <code>take</code> and <code>drop</code> functions from the <strong>Standard Haskell Prelude</strong> (which is loaded into GHCi by default and we do not have to manually import the library).</p>
<p>Since <code>n</code> now represents the length of half the input list <code>xs</code> we can <strong>take the first n elements in the list xs</strong> which translates into Haskell like this: <code>take n xs</code>. Similarly we can <strong>drop the first n elements from the list xs</strong> to get the second half: <code>drop n xs</code>.</p>
<p>The complete function then looks like this:</p>
<div class="sourceCode"><pre class="sourceCode haskell"><code class="sourceCode haskell"><span class="ot">halve ::</span> [a] <span class="ot">-&gt;</span> ([a],[a])
halve xs <span class="fu">=</span> ( take n xs , drop n xs )
      <span class="kw">where</span> n <span class="fu">=</span> length xs <span class="ot">`div`</span> <span class="dv">2</span></code></pre></div>
<h3 id="how-do-i-split-a-list-into-three-parts">How do I split a list into three parts?</h3>
<p>We can use a similar approach to the <code>halve</code> function explained above.</p>
<div class="sourceCode"><pre class="sourceCode haskell"><code class="sourceCode haskell"><span class="ot">split3 ::</span> [a] <span class="ot">-&gt;</span> ([a],[a],[a])
split3 xs <span class="fu">=</span> (   ,   ,   )
      <span class="kw">where</span> n <span class="fu">=</span> length xs <span class="ot">`div`</span> <span class="dv">3</span></code></pre></div>
<p>Using <code>take</code> and <code>drop</code> and a variable <code>n</code> which represents a <em>third</em> of the length of <code>xs</code> we can create the various parts of our output tuple as such:</p>
<figure>
<img data-src="images/table.png" alt="take drop example" class="lazyload"><figcaption>take drop example</figcaption>
</figure>
<p>So our final solution could be this (note from the table above that there are various options on how to extract the three thirds of the input list):</p>
<div class="sourceCode"><pre class="sourceCode haskell"><code class="sourceCode haskell"><span class="ot">split3 ::</span> [a] <span class="ot">-&gt;</span> ([a],[a],[a])
split3 xs <span class="fu">=</span> ( take n xs , take n (drop n xs) , drop (n<span class="fu">*</span><span class="dv">2</span>) xs )
      <span class="kw">where</span> n <span class="fu">=</span> length xs <span class="ot">`div`</span> <span class="dv">3</span></code></pre></div>
<h3 id="what-are-the-different-kinds-of-techniques-for-writing-functions">What are the different kinds of techniques for writing functions?</h3>
<p>There are various techniques in Haskell for writing functions and expressions. Some of them are fairly similar in style to other languages and others are quite different. Deciding when to use one technique over another depends on the purpose of the function.</p>
<ul>
<li><a href="https://vle.dmu.ac.uk/bbcswebdav/pid-3025849-dt-content-rid-4603139_1/courses/CTEC1901_2015_Y/tut.pdf#page=67">Functions</a></li>
<li><a href="https://vle.dmu.ac.uk/bbcswebdav/pid-3025849-dt-content-rid-4603139_1/courses/CTEC1901_2015_Y/tut.pdf#page=67">Anonymous functions / lambda functions</a></li>
<li><a href="https://vle.dmu.ac.uk/bbcswebdav/pid-3025849-dt-content-rid-4603139_1/courses/CTEC1901_2015_Y/tut.pdf#page=68">Naming functions</a></li>
<li><a href="https://vle.dmu.ac.uk/bbcswebdav/pid-3025849-dt-content-rid-4603139_1/courses/CTEC1901_2015_Y/tut.pdf#page=71">Structured Parameters</a></li>
<li><a href="https://vle.dmu.ac.uk/bbcswebdav/pid-3025849-dt-content-rid-4603139_1/courses/CTEC1901_2015_Y/tut.pdf#page=72">Curried functions / partial function application</a></li>
<li><a href="https://vle.dmu.ac.uk/bbcswebdav/pid-3025849-dt-content-rid-4603139_1/courses/CTEC1901_2015_Y/tut.pdf#page=73">Associativity</a></li>
<li><a href="https://vle.dmu.ac.uk/bbcswebdav/pid-3025849-dt-content-rid-4603139_1/courses/CTEC1901_2015_Y/tut.pdf#page=75"><code>let</code> / <code>where</code> expressions</a>
<ul>
<li><code>let x = 3 in x * x + x</code></li>
<li><code>let x = 3 in let y = 4 in x + y</code></li>
<li><code>let {x = 3; y = 4} in x + y</code></li>
<li><code>let x = not True in if x then x else not x</code></li>
<li><code>let {s = &quot;One&quot;; t = &quot;Two&quot;} in length s + length t</code></li>
<li><code>f (x,y) = let m = (x + y)/2 in (x-m, y-m)</code></li>
<li><div class="sourceCode"><pre class="sourceCode haskell"><code class="sourceCode haskell">f (x,y) <span class="fu">=</span> s<span class="fu">/</span>p
<span class="kw">where</span> s <span class="fu">=</span> x <span class="fu">+</span> y
p <span class="fu">=</span> x <span class="fu">*</span> y</code></pre></div></li>
</ul></li>
<li><code>if</code>/<code>then</code>/<code>else</code> statements
<ul>
<li><code>if True then &quot;bc&quot; else &quot;de&quot;</code></li>
<li><code>1 + if 2/=2 then 3 else 4</code></li>
<li><code>(if 2/=2 then reverse else tail) &quot;abc&quot;</code></li>
</ul></li>
<li><a href="https://vle.dmu.ac.uk/bbcswebdav/pid-3025849-dt-content-rid-4603139_1/courses/CTEC1901_2015_Y/tut.pdf#page=69">Guarded equations</a>
<ul>
<li><div class="sourceCode"><pre class="sourceCode haskell"><code class="sourceCode haskell">sign x 
  <span class="fu">|</span> x <span class="fu">&lt;</span> <span class="dv">0</span>  <span class="fu">=</span> <span class="fu">-</span><span class="dv">1</span>
  <span class="fu">|</span> x <span class="fu">==</span> <span class="dv">0</span> <span class="fu">=</span> <span class="dv">0</span>
  <span class="fu">|</span> x <span class="fu">&gt;</span> <span class="dv">0</span>  <span class="fu">=</span> <span class="dv">1</span></code></pre></div></li>
<li><code>sign x | x &lt; 0  = -1 | x == 0 = 0 | x &gt; 0  = 1</code></li>
</ul></li>
<li><a href="https://vle.dmu.ac.uk/bbcswebdav/pid-3025849-dt-content-rid-4603139_1/courses/CTEC1901_2015_Y/tut.pdf#page=76"><code>case</code> statements</a>
<ul>
<li><div class="sourceCode"><pre class="sourceCode haskell"><code class="sourceCode haskell">foo a <span class="fu">=</span> <span class="kw">case</span> a <span class="kw">of</span>
(<span class="dv">0</span>,ys)      <span class="ot">-&gt;</span> <span class="dv">0</span>
(x,(y<span class="fu">:</span>ys))  <span class="ot">-&gt;</span> y
(x,[])      <span class="ot">-&gt;</span> x</code></pre></div></li>
</ul></li>
<li><a href="https://vle.dmu.ac.uk/bbcswebdav/pid-3025849-dt-content-rid-4603139_1/courses/CTEC1901_2015_Y/tut.pdf#page=70">Recursion</a>
<ul>
<li><code>fib n = if n == 0 then 1 else if n == 1 then 1 else fib (n-1) + fib (n-2)</code></li>
</ul></li>
<li><p><a href="https://vle.dmu.ac.uk/bbcswebdav/pid-3025849-dt-content-rid-4603139_1/courses/CTEC1901_2015_Y/tut.pdf#page=76">Pattern matching</a></p>
<ul>
<li><div class="sourceCode"><pre class="sourceCode haskell"><code class="sourceCode haskell">fib <span class="dv">0</span> <span class="fu">=</span> <span class="dv">1</span>
fib <span class="dv">1</span> <span class="fu">=</span> <span class="dv">1</span>
fib n <span class="fu">=</span> fib (n<span class="fu">-</span><span class="dv">1</span>) <span class="fu">+</span> fib (n<span class="fu">-</span><span class="dv">2</span>)</code></pre></div></li>
<li><div class="sourceCode"><pre class="sourceCode haskell"><code class="sourceCode haskell">foo (<span class="dv">0</span>,ys) <span class="fu">=</span> <span class="dv">0</span>
foo (x,(y<span class="fu">:</span>ys)) <span class="fu">=</span> y
foo (x,[]) <span class="fu">=</span> x</code></pre></div></li>
</ul></li>
</ul>
<h3 id="functions-1">Functions</h3>
<p>Functions have a name and usually one or more input parameters. There is only ever one output. The type signature of a function is optional when writing functions in a script - Haskell can derive it by itself - but it is good practice to include the type signature as a form of documentation.</p>
<div class="sourceCode"><pre class="sourceCode haskell"><code class="sourceCode haskell"><span class="ot">add ::</span> <span class="dt">Num</span> a <span class="ot">=&gt;</span> a <span class="ot">-&gt;</span> a <span class="fu">&gt;</span> a <span class="ot">-&gt;</span> a
add x y z <span class="fu">=</span> x <span class="fu">+</span> y <span class="fu">+</span> z</code></pre></div>
<div class="sourceCode"><pre class="sourceCode haskell"><code class="sourceCode haskell">add <span class="dv">1</span> <span class="dv">2</span> <span class="dv">3</span>
<span class="dv">6</span></code></pre></div>
<p>E.g.</p>
<p><br /><span class="math display">$$
\definecolor{blue}{RGB}{181,204,227}
\underbrace{ \ \text{add} \ }_{\color{blue}\small\text{function name}} ::
\underbrace{\ \text{Num a} \Rightarrow \ }_{\color{blue}\small\text{class constraint}} 
\underbrace{\ \text{a} \rightarrow \ }_{\color{blue}\small\text{input 1}} 
\underbrace{ \ \text{a} \rightarrow \ }_{\color{blue}\small\text{input 2}}
\underbrace{ \ \text{a} \rightarrow \ }_{\color{blue}\small\text{input 3}}
\underbrace{ \ \text{a} \ }_{\color{blue}\small\text{output}}
$$</span><br /></p>
<p><br /><span class="math display">$$
\definecolor{blue}{RGB}{181,204,227}
\underbrace{ \ \text{add} \ }_{\color{blue}\small\text{function name}} \ 
\underbrace{ \quad \text{x} \quad }_{\color{blue}\small\text{input 1}} \ 
\underbrace{ \quad \text{y} \quad }_{\color{blue}\small\text{input 2}} \ 
\underbrace{ \quad \text{z} \quad }_{\color{blue}\small\text{input 3}} \ 
\underbrace{ \qquad\quad \text{=} \qquad\quad }_{\color{blue}\small\text{assignment operator}} \ 
\underbrace{ \ \text{x+y+z} \ }_{\color{blue}\small\text{output}} 
$$</span><br /></p>
<p>The <strong>class constraint</strong> is optional, and there can be <code>0</code> or more <strong>input parameters</strong> but always one <strong>result</strong>.</p>
<h3 id="anonymous-functions">Anonymous functions</h3>
<p>Anonymous functions or lambda functions are <strong>nameless</strong> functions. This allows us to declare them on the fly. The structure is as follows.</p>
<p><br /><span class="math display">$$
\definecolor{blue}{RGB}{181,204,227}
\underbrace{ \ \text{\\} \ }_{\color{blue}\small\text{lambda}} \ 
\underbrace{ \quad \text{x} \quad }_{\color{blue}\small\text{input}} \ 
\underbrace{ \qquad \rightarrow \qquad }_{\color{blue}\small\text{assignment operator}} \ 
\underbrace{ \ \text{x*2} \ }_{\color{blue}\small\text{output}} 
$$</span><br /></p>
<p>Instead of a function name we now have the <strong>lambda</strong> symbol (a backslash in Haskell) <code>\</code> and instead of the normal <strong>assignment operator</strong> <code>=</code> we use the <code>-&gt;</code> symbol.</p>
<p>Similar to normal functions, we can use various techniques within a lambda expression and have more than one parameter. For example:</p>
<ul>
<li><code>\x -&gt; 2 * x</code></li>
<li><code>\x y -&gt; x + y</code></li>
<li><code>\x y z -&gt;  (x - 1/z) + y</code></li>
<li><code>\x y z -&gt; if x then y + z else y - z</code></li>
</ul>
<p>We can use lambda expressions as inputs for the <code>map</code> function:</p>
<div class="sourceCode"><pre class="sourceCode haskell"><code class="sourceCode haskell">map (\x <span class="ot">-&gt;</span> <span class="kw">if</span> x <span class="fu">==</span> <span class="dv">1</span> <span class="kw">then</span> <span class="dv">0</span> <span class="kw">else</span> <span class="dv">1</span>) [<span class="dv">1</span>,<span class="dv">0</span>,<span class="dv">1</span>,<span class="dv">0</span>,<span class="dv">0</span>,<span class="dv">0</span>,<span class="dv">1</span>,<span class="dv">1</span>]
[<span class="dv">0</span>,<span class="dv">1</span>,<span class="dv">0</span>,<span class="dv">1</span>,<span class="dv">1</span>,<span class="dv">1</span>,<span class="dv">0</span>,<span class="dv">0</span>]</code></pre></div>
<div class="sourceCode"><pre class="sourceCode haskell"><code class="sourceCode haskell">map (\(x,y) <span class="ot">-&gt;</span> x <span class="fu">+</span> y) [(<span class="dv">1</span>,<span class="dv">2</span>),(<span class="dv">2</span>,<span class="dv">3</span>),(<span class="dv">4</span>,<span class="dv">5</span>)]
[<span class="dv">3</span>,<span class="dv">5</span>,<span class="dv">9</span>]</code></pre></div>
<p><a href="#">back up</a></p>
<hr />
<h2 id="list-comprehensions">List comprehensions</h2>
<h3 id="list-comprehensions-definition">List comprehensions definition</h3>
<p>List comprehensions are defined in the <a href="https://www.haskell.org/onlinereport/exps.html#sect3.11">official documentation</a> as: <strong><code>[ e | q1, ..., qn ]</code></strong><br />
where <code>n&gt;=1</code> and the <code>qi</code> qualifiers are either</p>
<ul>
<li><strong>generators</strong> of the form <code>p &lt;- e</code>, where <code>p</code> is a pattern of type <code>t</code> and <code>e</code> is an expression of type <code>[t]</code></li>
<li><strong>guards</strong>, which are arbitrary expressions of type <code>Bool</code></li>
<li><strong>local bindings</strong> that provide new definitions for use in the generated expression e or subsequent guards and generators using <code>let</code> notation.</li>
</ul>
<p>See also the tutorial by David Smallwood on <a href="https://vle.dmu.ac.uk/bbcswebdav/pid-3025849-dt-content-rid-4603139_1/courses/CTEC1901_2015_Y/tut.pdf#page=92">page 84</a>.</p>
<h3 id="list-comprehensions-vs-loops">List comprehensions vs loops</h3>
<p>In pseudo C using for-loops:</p>
<div class="sourceCode"><pre class="sourceCode c"><code class="sourceCode c"><span class="cf">for</span> ( <span class="dt">int</span> x = <span class="dv">1</span>; x &lt;= <span class="dv">4</span>; x++ ) {
      <span class="cf">for</span> ( <span class="dt">int</span> y = <span class="dv">1</span>; y &lt;= <span class="dv">2</span>; y++ ) {
            <span class="co">//add (x,y) to myList</span>
      }
}</code></pre></div>
<p>In Haskell:</p>
<div class="sourceCode"><pre class="sourceCode haskell"><code class="sourceCode haskell">myList <span class="fu">=</span> [(x,y) <span class="fu">|</span> x <span class="ot">&lt;-</span> [<span class="dv">1</span><span class="fu">..</span><span class="dv">4</span>], y <span class="ot">&lt;-</span> [<span class="dv">1</span>,<span class="dv">2</span>]]</code></pre></div>
<div class="sourceCode"><pre class="sourceCode haskell"><code class="sourceCode haskell">ghci<span class="fu">&gt;</span> mylist
[(<span class="dv">1</span>,<span class="dv">1</span>),(<span class="dv">1</span>,<span class="dv">2</span>),(<span class="dv">2</span>,<span class="dv">1</span>),(<span class="dv">2</span>,<span class="dv">2</span>),(<span class="dv">3</span>,<span class="dv">1</span>),(<span class="dv">3</span>,<span class="dv">2</span>),(<span class="dv">4</span>,<span class="dv">1</span>),(<span class="dv">4</span>,<span class="dv">2</span>)]</code></pre></div>
<h3 id="infinite-lists">Infinite lists</h3>
<p>Example taken from <a href="https://wiki.haskell.org/List_comprehension">haskell.org</a>:</p>
<div class="sourceCode"><pre class="sourceCode haskell"><code class="sourceCode haskell">ghci<span class="fu">&gt;</span> take <span class="dv">5</span> [ (i,j) <span class="fu">|</span> i <span class="ot">&lt;-</span> [<span class="dv">1</span>,<span class="dv">2</span>], j <span class="ot">&lt;-</span> [<span class="dv">1</span><span class="fu">..</span>]] 
[(<span class="dv">1</span>,<span class="dv">1</span>),(<span class="dv">1</span>,<span class="dv">2</span>),(<span class="dv">1</span>,<span class="dv">3</span>),(<span class="dv">1</span>,<span class="dv">4</span>),(<span class="dv">1</span>,<span class="dv">5</span>)]</code></pre></div>
<blockquote>
<p>“each successive generator refines the results of the previous generator. Thus, if the second list is infinite, one will never reach the second element of the first list.” <a href="https://wiki.haskell.org/List_comprehension">Source</a></p>
</blockquote>
<p>So, because the second generator (the <em>inner loop</em>) <code>[1..]</code> produces an infinite list, this list comprehension theoretically creates an infinite list of tuples: <code>[(1,1),(1,2),(1,3),(1,4),(1,5),(1,6),(1,7),(1,8),(1,9),(1,10),..</code> etc. The first value of the tuple (<code>i</code>) is never incremented because we infinitely increment the second one (<code>j</code>) first.</p>
<p>The whole expression however asks only for the first 5 elements (<code>take 5</code>) of the infinite list that is being generated through the list comprehension.</p>
<h3 id="set-notation">Set Notation</h3>
<p>Examples taken from <a href="http://en.wikipedia.org/wiki/List_comprehension#Overview">Wikipedia</a>: In mathematics, set notation looks like this:</p>
<p><br /><span class="math display">$$
\definecolor{blue}{RGB}{181,204,227}
S = \{ \ 2 \cdot x \ | \ x \in \mathbb{N}, \ x^2 &gt; 3 \ \}
$$</span><br /></p>
<p>This means:</p>
<p><br /><span class="math display">$$
\definecolor{blue}{RGB}{181,204,227}
S = \{ \underbrace{ \ 2 \cdot x \ }_{\color{blue}\text{output expr.}} \ | \ \underbrace{ \ x \ }_{\color{blue}\text{variable}} \in \underbrace{ \ \mathbb{N} \ }_{\color{blue}\text{input set}}, \ \underbrace{ \ x^2 &gt; 3 \ }_{\color{blue}\text{predicate}} \}
$$</span><br /></p>
<p>In <a href="http://en.wikipedia.org/wiki/List_comprehension#Haskell">Haskell</a> this translates directly into:</p>
<div class="sourceCode"><pre class="sourceCode haskell"><code class="sourceCode haskell">s <span class="fu">=</span> [ <span class="dv">2</span><span class="fu">*</span>x <span class="fu">|</span> x <span class="ot">&lt;-</span> [<span class="dv">0</span><span class="fu">..</span>], x<span class="fu">^</span><span class="dv">2</span> <span class="fu">&gt;</span> <span class="dv">3</span>]</code></pre></div>
<p>This reads something like:<br />
“for each x from 0 to infinity: if x^2 is larger than 3 then return 2*x”</p>
<ul>
<li><code>2*x</code> is the <strong>output expression</strong></li>
<li><code>|</code> separates the output expression from the generators, guards and local bindings</li>
<li><code>x &lt;- [0..]</code> is the <strong>generator</strong></li>
<li><code>x^2 &gt; 3</code> is the <strong>guard</strong> condition</li>
</ul>
<h3 id="more-list-comprehension-examples">More List comprehension examples</h3>
<p><strong>if-then-else statements within the list comprehension:</strong></p>
<p>Taken from: <a href="http://learnyouahaskell.com/starting-out#im-a-list-comprehension">learnyouahaskell.com</a></p>
<div class="sourceCode"><pre class="sourceCode haskell"><code class="sourceCode haskell">boomBangs xs <span class="fu">=</span> [ <span class="kw">if</span> x <span class="fu">&lt;</span> <span class="dv">10</span> <span class="kw">then</span> <span class="st">&quot;BOOM!&quot;</span> <span class="kw">else</span> <span class="st">&quot;BANG!&quot;</span> <span class="fu">|</span> x <span class="ot">&lt;-</span> xs, odd x]</code></pre></div>
<div class="sourceCode"><pre class="sourceCode haskell"><code class="sourceCode haskell">ghci<span class="fu">&gt;</span> boomBangs [<span class="dv">7</span><span class="fu">..</span><span class="dv">13</span>]  
[<span class="st">&quot;BOOM!&quot;</span>,<span class="st">&quot;BOOM!&quot;</span>,<span class="st">&quot;BANG!&quot;</span>,<span class="st">&quot;BANG!&quot;</span>]</code></pre></div>
<p><strong>Nested List comprehensions:</strong></p>
<div class="sourceCode"><pre class="sourceCode haskell"><code class="sourceCode haskell">ghci<span class="fu">&gt;</span> <span class="kw">let</span> xxs <span class="fu">=</span> [[<span class="dv">1</span>,<span class="dv">3</span>,<span class="dv">5</span>,<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">4</span>,<span class="dv">5</span>],[<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">4</span>,<span class="dv">5</span>,<span class="dv">6</span>,<span class="dv">7</span>,<span class="dv">8</span>,<span class="dv">9</span>],[<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">4</span>,<span class="dv">2</span>,<span class="dv">1</span>,<span class="dv">6</span>,<span class="dv">3</span>,<span class="dv">1</span>,<span class="dv">3</span>,<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">6</span>]]  
ghci<span class="fu">&gt;</span> [ [ x <span class="fu">|</span> x <span class="ot">&lt;-</span> xs, even x ] <span class="fu">|</span> xs <span class="ot">&lt;-</span> xxs]  
[[<span class="dv">2</span>,<span class="dv">2</span>,<span class="dv">4</span>],[<span class="dv">2</span>,<span class="dv">4</span>,<span class="dv">6</span>,<span class="dv">8</span>],[<span class="dv">2</span>,<span class="dv">4</span>,<span class="dv">2</span>,<span class="dv">6</span>,<span class="dv">2</span>,<span class="dv">6</span>]]</code></pre></div>
<p><strong>Local bindings using let expressions:</strong></p>
<p>Taken from: <a href="http://learnyouahaskell.com/syntax-in-functions#let-it-be">learnyouahaskell.com</a></p>
<div class="sourceCode"><pre class="sourceCode haskell"><code class="sourceCode haskell"><span class="ot">calcBmis ::</span> (<span class="dt">RealFloat</span> a) <span class="ot">=&gt;</span> [(a, a)] <span class="ot">-&gt;</span> [a]  
calcBmis xs <span class="fu">=</span> [bmi <span class="fu">|</span> (w, h) <span class="ot">&lt;-</span> xs, <span class="kw">let</span> bmi <span class="fu">=</span> w <span class="fu">/</span> h <span class="fu">^</span> <span class="dv">2</span>]</code></pre></div>
<div class="sourceCode"><pre class="sourceCode haskell"><code class="sourceCode haskell"><span class="ot">calcBmis ::</span> (<span class="dt">RealFloat</span> a) <span class="ot">=&gt;</span> [(a, a)] <span class="ot">-&gt;</span> [a]  
calcBmis xs <span class="fu">=</span> [bmi <span class="fu">|</span> (w, h) <span class="ot">&lt;-</span> xs, <span class="kw">let</span> bmi <span class="fu">=</span> w <span class="fu">/</span> h <span class="fu">^</span> <span class="dv">2</span>, bmi <span class="fu">&gt;=</span> <span class="fl">25.0</span>]</code></pre></div>
<h3 id="lecture-example">Lecture example</h3>
<div class="sourceCode"><pre class="sourceCode haskell"><code class="sourceCode haskell"><span class="ot">positions ::</span> <span class="dt">Eq</span> a <span class="ot">=&gt;</span> a <span class="ot">-&gt;</span> [a] <span class="ot">-&gt;</span> [<span class="dt">Int</span>]
positions x xs <span class="fu">=</span>
      [i <span class="fu">|</span> (x’,i) <span class="ot">&lt;-</span> zip xs [<span class="dv">0</span><span class="fu">..</span>n], x <span class="fu">==</span> x’]
      <span class="kw">where</span> n <span class="fu">=</span> length xs <span class="fu">-</span> <span class="dv">1</span></code></pre></div>
<p>We can run this function as follows:</p>
<div class="sourceCode"><pre class="sourceCode haskell"><code class="sourceCode haskell">ghci<span class="fu">&gt;</span> positions <span class="dv">0</span> [<span class="dv">1</span>,<span class="dv">0</span>,<span class="dv">0</span>,<span class="dv">1</span>,<span class="dv">0</span>,<span class="dv">1</span>,<span class="dv">1</span>,<span class="dv">0</span>]
[<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">4</span>,<span class="dv">7</span>]</code></pre></div>
<p>To understand this function, let us look at the list comprehension. Remember the expression around the left pointing arrow <code>&lt;-</code> is called a <strong>generator</strong>.</p>
<p>The generator of this list comprehension (<code>(x’,i) &lt;- zip xs [0..n]</code>) creates a list of type <code>[(x’,i)]</code> by <em>zipping</em> <code>xs</code> and <code>[0..n]</code> together. We are calling the function <code>positions</code> with <code>x</code> as <code>0</code> and <code>xs</code> as <code>[1,0,0,1,0,1,1,0]</code> and <code>n</code> is locally defined using the <code>where</code> notation as the length of our list <code>xs</code> minus <code>1</code>. The length of <code>xs</code> is <code>8</code>, therefore <code>n</code> must be <code>7</code>. This means that the generator will zip these two lists together:</p>
<div class="sourceCode"><pre class="sourceCode haskell"><code class="sourceCode haskell">zip [<span class="dv">1</span>,<span class="dv">0</span>,<span class="dv">0</span>,<span class="dv">1</span>,<span class="dv">0</span>,<span class="dv">1</span>,<span class="dv">1</span>,<span class="dv">0</span>] [<span class="dv">0</span>,<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">4</span>,<span class="dv">5</span>,<span class="dv">6</span>,<span class="dv">7</span>]</code></pre></div>
<p>which returns:</p>
<div class="sourceCode"><pre class="sourceCode haskell"><code class="sourceCode haskell">[(<span class="dv">1</span>,<span class="dv">0</span>),(<span class="dv">0</span>,<span class="dv">1</span>),(<span class="dv">0</span>,<span class="dv">2</span>),(<span class="dv">1</span>,<span class="dv">3</span>),(<span class="dv">0</span>,<span class="dv">4</span>),(<span class="dv">1</span>,<span class="dv">5</span>),(<span class="dv">1</span>,<span class="dv">6</span>),(<span class="dv">0</span>,<span class="dv">7</span>)]</code></pre></div>
<p>Each of those tuples in this list is of type <code>(x&quot;,i)</code>. Now, the list comprehension states that we are only interested in those elements of the list where <code>x</code> is equal to <code>x&quot;</code>. This is called the <strong>guard</strong> expression and is separated from the <strong>generator</strong> by a single comma. Remember that <code>x</code> is <code>0</code>. This means we can delete any elements of the list where <code>x&quot;</code> is not equal to <code>0</code>. We are then left with:</p>
<div class="sourceCode"><pre class="sourceCode haskell"><code class="sourceCode haskell">[(<span class="dv">0</span>,<span class="dv">1</span>),(<span class="dv">0</span>,<span class="dv">2</span>),(<span class="dv">0</span>,<span class="dv">4</span>),(<span class="dv">0</span>,<span class="dv">7</span>)]</code></pre></div>
<p>The list comprehension also states that the type of our output list should be <code>[i]</code> (the bit before <code>|</code> in the list comprehension), that means we can discard all <code>x&quot;</code> in our list of tuples <code>[(x&quot;,i)]</code> so that we are left with only the <code>i</code>:</p>
<div class="sourceCode"><pre class="sourceCode haskell"><code class="sourceCode haskell">[<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">4</span>,<span class="dv">7</span>]</code></pre></div>
<p><a href="#">back up</a></p>
<hr />
<h2 id="guards-and-map">Guards and map</h2>
<h3 id="guarded-equations">Guarded equations</h3>
<p>Here is an example of a guarded equation:</p>
<div class="sourceCode"><pre class="sourceCode haskell"><code class="sourceCode haskell"><span class="ot">sign ::</span> (<span class="dt">Ord</span> a, <span class="dt">Num</span> a) <span class="ot">=&gt;</span> a <span class="ot">-&gt;</span> <span class="dt">Int</span>
sign x 
      <span class="fu">|</span> x <span class="fu">&amp;</span>lt; <span class="dv">0</span>      <span class="fu">=</span> <span class="fu">-</span><span class="dv">1</span>
      <span class="fu">|</span> x <span class="fu">==</span> <span class="dv">0</span>     <span class="fu">=</span>  <span class="dv">0</span>
      <span class="fu">|</span> otherwise  <span class="fu">=</span>  <span class="dv">1</span></code></pre></div>
<p>This is very similar to mathematical notation:</p>
<p><br /><span class="math display">$$
\text{sign}(x) = 
\begin{cases}
-1  &amp; \quad \text{if } x &lt; 0\\
0   &amp; \quad \text{if } x == 0\\
1   &amp; \quad \text{otherwise}
\end{cases}
$$</span><br /></p>
<p>To write the <code>zoe</code> function we need to put the three specified cases into this <em>guarded</em> notation. If the input parameter <code>x</code> is <code>0</code> then we want to return <code>0</code>; if <code>x</code> is odd we want to return <code>1</code> and if <code>x</code> is even we return <code>2</code>. Putting what we know so far into code is easy:</p>
<div class="sourceCode"><pre class="sourceCode haskell"><code class="sourceCode haskell"><span class="ot">zoe ::</span> (<span class="dt">Integral</span> a, <span class="dt">Num</span> a) <span class="ot">=&gt;</span> a <span class="ot">-&gt;</span> <span class="dt">Int</span>
zoe x
      <span class="fu">|</span> <span class="st">&quot;if x is equal to 0 return 0&quot;</span>
      <span class="fu">|</span> <span class="st">&quot;if x is odd then return 1&quot;</span>
      <span class="fu">|</span> <span class="st">&quot;if x is even then return 2&quot;</span></code></pre></div>
<p>These statements obviously need to be replaced with the appropriate conditional statements in Haskell.</p>
<p><code>&quot;if x is equal to 0 return 0&quot;</code> can be written as <code>x == 0 = 0</code>. Checking if a number is even or odd can be done in two ways: we can either use the Standard Haskell Prelude functions <code>odd</code> and <code>even</code>, or we can use <code>mod</code> (for example, if the remainder of a number divided by <code>2</code> is <code>0</code> then the number must be <strong>even</strong>; if the remainder is <code>1</code> then it must be <strong>odd</strong>).</p>
<div class="sourceCode"><pre class="sourceCode haskell"><code class="sourceCode haskell"><span class="ot">zoe ::</span> (<span class="dt">Integral</span> a, <span class="dt">Num</span> a) <span class="ot">=&gt;</span> a <span class="ot">-&gt;</span> <span class="dt">Int</span>
zoe x
      <span class="fu">|</span> x <span class="fu">==</span> <span class="dv">0</span> <span class="fu">=</span> <span class="dv">0</span>
      <span class="fu">|</span> odd x  <span class="fu">=</span> <span class="dv">1</span>
      <span class="fu">|</span> even x <span class="fu">=</span> <span class="dv">2</span></code></pre></div>
<p>or</p>
<div class="sourceCode"><pre class="sourceCode haskell"><code class="sourceCode haskell"><span class="ot">zoe ::</span> (<span class="dt">Integral</span> a, <span class="dt">Num</span> a) <span class="ot">=&gt;</span> a <span class="ot">-&gt;</span> <span class="dt">Int</span>
zoe x
      <span class="fu">|</span> x <span class="fu">==</span> <span class="dv">0</span>    <span class="fu">=</span> <span class="dv">0</span>
      <span class="fu">|</span> odd x     <span class="fu">=</span> <span class="dv">1</span>
      <span class="fu">|</span> otherwise <span class="fu">=</span> <span class="dv">2</span></code></pre></div>
<p>or</p>
<div class="sourceCode"><pre class="sourceCode haskell"><code class="sourceCode haskell"><span class="ot">zoe ::</span> (<span class="dt">Integral</span> a, <span class="dt">Num</span> a) <span class="ot">=&gt;</span> a <span class="ot">-&gt;</span> <span class="dt">Int</span>
zoe x
      <span class="fu">|</span> x <span class="fu">==</span> <span class="dv">0</span>         <span class="fu">=</span> <span class="dv">0</span>
      <span class="fu">|</span> x <span class="ot">`mod`</span> <span class="dv">2</span> <span class="fu">==</span> <span class="dv">1</span> <span class="fu">=</span> <span class="dv">1</span>
      <span class="fu">|</span> x <span class="ot">`mod`</span> <span class="dv">2</span> <span class="fu">==</span> <span class="dv">0</span> <span class="fu">=</span> <span class="dv">2</span></code></pre></div>
<h3 id="how-do-i-use-the-map-function">How do I use the <code>map</code> function?</h3>
<blockquote>
<p>“<code>map f xs</code> is the list obtained by applying <code>f</code> to each element of <code>xs</code>” <a href="http://hackage.haskell.org/package/base-4.7.0.2/docs/Prelude.html#v:map">Source</a></p>
</blockquote>
<p>The <code>map</code> function has the following type signature:</p>
<div class="sourceCode"><pre class="sourceCode haskell"><code class="sourceCode haskell">map<span class="ot"> ::</span> (a <span class="ot">-&gt;</span> b) <span class="ot">-&gt;</span> [a] <span class="ot">-&gt;</span> [b]</code></pre></div>
<p>which means it takes a function of type <code>(a -&gt; b)</code> as the first input parameter and a list of type <code>[a]</code> as the second. The function returns a list of type <code>[b]</code>.</p>
<p>Now that you have seen <strong>recursive functions</strong> you should be able to understand the actual function definition of <code>map</code>.</p>
<div class="sourceCode"><pre class="sourceCode haskell"><code class="sourceCode haskell">map<span class="ot"> ::</span> (a <span class="ot">-&gt;</span> b) <span class="ot">-&gt;</span> [a] <span class="ot">-&gt;</span> [b]
map _ []     <span class="fu">=</span> []
map f (x<span class="fu">:</span>xs) <span class="fu">=</span> f x <span class="fu">:</span> map f xs</code></pre></div>
<p>We can run this function like this:</p>
<div class="sourceCode"><pre class="sourceCode haskell"><code class="sourceCode haskell">map (<span class="fu">+</span><span class="dv">1</span>) [<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">4</span>,<span class="dv">5</span>,<span class="dv">6</span>]
[<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">4</span>,<span class="dv">5</span>,<span class="dv">6</span>,<span class="dv">7</span>]</code></pre></div>
<p>It evaluates recursively like this:</p>
<pre><code>map (+1) [1,2,3,4,5,6]
= (+1) 1 : map (+1) [2,3,4,5,6]
= 2 : (+1) 2 : map (+1) [3,4,5,6]
= 2 : 3 : (+1) 3 : map (+1) [4,5,6]
= 2 : 3 : 4 : (+1) 4 : map (+1) [5,6]
= 2 : 3 : 4 : 5 : (+1) 5 : map (+1) [6]
= 2 : 3 : 4 : 5 : 6 : (+1) 6 : map (+1) []
= 2 : 3 : 4 : 5 : 6 : 7 : []
= [2,3,4,5,6,7]</code></pre>
<p>Note also that when providing the <code>map</code> function with an <strong>anonymous function</strong> as the first input parameter, then we can shorten that as such:</p>
<p><br /><span class="math display">$$
\definecolor{blue}{RGB}{181,204,227}
\definecolor{salmon}{RGB}{250, 128, 114}
\definecolor{normal}{RGB}{162,153,161}
\text{map} \ (\underbrace{\color{salmon} \backslash x \rightarrow x}_{\color{blue}\text{not needed}} \color{normal} + 7) \ [1..10]
$$</span><br /></p>
<h3 id="why-does-const-flip-id-const-3-id-4-return-4">Why does <code>const flip id const 3 id 4</code> return <code>4</code>?</h3>
<p>Because the expression is evaluated from <strong>left to right</strong> and functions can be input to functions. The three functions are defined as follows:</p>
<div class="sourceCode"><pre class="sourceCode haskell"><code class="sourceCode haskell">id    <span class="fu">=</span> (\x <span class="ot">-&gt;</span> x)
const <span class="fu">=</span> (\x y <span class="ot">-&gt;</span> x)
flip  <span class="fu">=</span> (\f x y <span class="ot">-&gt;</span> f y x)</code></pre></div>
<p>The expression <code>const flip id const 3 id 4</code> evaluates as such:</p>
<p><br /><span class="math display">$$
\definecolor{blue}{RGB}{181,204,227}
\definecolor{normal}{RGB}{162,153,161}
\begin{matrix}
&amp; const &amp; flip &amp; id         &amp; const &amp; 3 &amp; id &amp; 4 \\
= \ &amp; ( \color{blue}const\color{normal} &amp; \underbrace{flip}_{\color{blue}x} &amp; \underbrace{id}_{\color{blue}y}) &amp; const &amp; 3 &amp; id &amp; 4 \\
= \ &amp; &amp; ( \color{blue}flip\color{normal} &amp; &amp; \underbrace{const}_{\color{blue}f} &amp; \underbrace{3}_{\color{blue}x} &amp; \underbrace{id}_{\color{blue}y}) &amp; 4 \\
= \ &amp; &amp; &amp; &amp; ( \color{blue}const\color{normal} &amp; \underbrace{id}_{\color{blue}x} &amp; \underbrace{3}_{\color{blue}y}) &amp; 4 \\
= \ &amp; &amp; &amp; &amp; &amp; &amp; ( \color{blue}id\color{normal} &amp; \underbrace{4}_{\color{blue}x}) \\
= &amp; &amp; &amp; &amp; &amp; &amp; &amp; 4
\end{matrix}
$$</span><br /></p>
<p><a href="#">back up</a></p>

</section>
</main>




<script>

  // const [...formulae] = document.getElementsByClassName("math");
  // console.log(formulae);

  // formulae.forEach(f => {

  //   f.parentElement.style.transform = "scale(0.75) translateX(-40px)";

  // });

</script>





<script src="meta/pataphysicalDate.min.js"></script>
<!-- <script src="meta/date.js"></script> -->
<script src="meta/scripts.js"></script>
<script src="meta/lazysizes.min.js"></script>
<script src="meta/gallery.js"></script>
<script>lazySizes.init();</script>

</body>
</html>
