<!doctype html>

<html lang="en">

<head>
	<title>Haskell</title>
	<meta charset="utf-8">
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
	<link rel="stylesheet" href="../style/style.css">
	<link href="../style/style.js">
</head>

<body>

<header>
	<h2><img class="imgicon" src="../images/Haskell-Logo-small.svg" alt="Haskell Logo" height="25">Haskell</h2>
	<nav>
		<a href="../index.html"><i class="menu-icon fa fa-home"></i></a>
		<a href="uni.html"><i class="menu-icon fa fa-mortar-board"></i></a>
		<a href="other.html"><i class="menu-icon fa fa-star"></i></a>
		<a href="images.html"><i class="menu-icon fa fa-camera"></i></a>
	</nav>
	<h3 class="clear">Frequently Asked Questions</h3>
	<p>Used for CTEC1901 at DMU.</p>
</header>

<main class="leftalign">

	<h1>Haskell FAQ</h1>

	<section class="content">

		<h2>Setup Stuff</h2>

		<article>
			<label for="q01"><h3>How do I open GHCi?</h3></label>
			<input type="checkbox" id="q01">
			<div class="answer">
				<p>Just open a terminal window and simply type <code>ghci</code> to open the Glasgow Haskell Compiler in interactive mode.</p>
				<p>In the computer labs in the Gateway building you need to log into Linux where Haskell is already installed. If you want to install Haskell on your laptop or home computer you can download it <a href="https://www.haskell.org/">here</a>. Alternatively, if you just quickly want to try an expression but don’t have Haskell installed on your computer at home, you can use the interactive prompt on <a href="https://www.haskell.org/">https://www.haskell.org/</a> or <a href="http://tryhaskell.org/">http://tryhaskell.org/</a>. There is even an app for iOS devices (<a href="http://slidetocode.com/raskell">"Raskell"</a>). <em>Let me know if you find a good app for Android!</em></p>
			</div>
		</article>

		<article>
			<label for="q02"><h3>What's the point of <code>:set +t</code>?</h3></label>
			<input type="checkbox" id="q02">
			<div class="answer">
				<p>Setting this will show the type of any value returned. It is optional but useful. You will have to set this every time you restart GHCi. Don’t forget to type the <code>:</code> at the start of the expression. In some of the examples throughout the lab sessions you will encounter instructions telling you to type <code>:s +t</code> which might not work on your machine. Use <code>:set +t</code> instead.</p>
			</div>
		</article>

		<article>
			<label for="q03"><h3>Setting up your GHCi config file</h3></label>
			<input type="checkbox" id="q03">
			<div class="answer">
				<p>You may want to setup a config file on your profile which can save you typing out certain commands every time you start a new session. For example you can put the <code>:set +t</code> command into this file and you will never have to remember it again.</p>
				<p>To do this, open your home folder on Linux and enable the viewing of hidden files. Find the <code>.ghc</code> folder. You need to create a new file called <code>ghci.conf</code> within that folder. Now, open this file and simply type in <code>:set +t</code> and save.</p>
				<p>There are various other things you can do with this config file. For example you can change the prompt from <code>Prelude&gt;</code> to your name or the Haskell “logo” lambda (<code>λ</code>) using this command: <code>:set prompt &quot;λ&gt;&quot;</code>.</p>
				<p>If you have installed GHC on your laptop or home computer you may have noticed that <code>:set +t</code> produces slightly different results than on the Gateway Linux lab machines. This is due to the version you are using.</p>
				<p>In the labs (which use version 7.4.1) you would see something like this:</p>
<pre><code>&gt; 4 + 6
10
it :: Integer</code></pre>
				<p>If you installed the newest version of GHC (7.10.3) then you will see this instead:</p>
<pre><code>&gt; 4 + 6
10
it :: Num a =&gt; a</code></pre>
				<p>Right now this might not mean much to you, so you can change this setting in your <code>ghci.conf</code> file (see above) by adding this command: <code>:set -XMonomorphismRestriction</code>. To change it back to what it was before change the command to: <code>:set -XNoMonomorphismRestriction</code>.</p>
				<p>An example <code>ghci.conf</code> file can look like this:</p>
<pre><code>:set +t
:set -XMonomorphismRestriction
:set prompt "λ&gt; "</code></pre>
			</div>
		</article>

		<article>
			<label for="q04"><h3>Some other useful commands for GHCi</h3></label>
			<input type="checkbox" id="q04">
			<div class="answer">
				<ul>
					<li><code>:quit</code> or <code>:q</code> to leave your current GHCi session</li>
					<li><code>:! clear</code> to clear your terminal window within an GHCi session</li>
				</ul>
			</div>
		</article>

		<article>
			<label for="q05"><h3>Hoogle</h3></label>
			<input type="checkbox" id="q05">
			<div class="answer">
				<p>Don’t forget you can check what functions do in <a href="https://www.haskell.org/hoogle/?hoogle=floor">Hoogle: floor</a>. For example, you can also search for functions by their type declarations: <code>String -&gt; Int</code> <a href="https://www.haskell.org/hoogle/?hoogle=String+-%3E+Int">Hoogle: String -&gt; Int</a>.</p>
			</div>
		</article>

		<article>
			<label for="q06"><h3>How do I load scripts into GHCi?</h3></label>
			<input type="checkbox" id="q06">
			<div class="answer">
				<p>Once you have typed a few expressions into a text editor of your choice and saved the file with an <code>.hs</code> extension, you can load it into GHCi.</p>
				<p>First you need to make sure your terminal prompt is in the right directory. Use the <code>cd</code> command to enter the folder where you saved the Haskell script. So, if you called your file <code>Script101.hs</code> and saved it in a folder called <code>CTEC1901</code> within your home directory, you need to enter the following commands into your terminal prompt: <code>cd CTEC1901</code>, then <code>ghci</code> and then <code>:load Script101.hs</code>.</p>
<pre><code>~$ cd CTEC1901
~/CTEC1901$ ghci
Prelude&gt; :load Script101.hs
*Main&gt;
</code></pre>
				<ul>
				<li>Script names are case sensitive!</li>
				<li><code>:reload</code> or <code>:r</code> to reload a script</li>
				<li><code>:load</code> or <code>:l</code> to load a script</li>
				<li>You need to be in the correct directory</li>
				<li><code>:cd</code> to change directory within GHCi</li>
				<li>You don&#39;t have to type the file extension <code>.hs</code></li>
				</ul>
			</div>
		</article>

		<article>
			<label for="q07"><h3>How do I use script files and functions?</h3></label>
			<input type="checkbox" id="q07">
			<div class="answer">
				<p>Let's assume you have a script file which contains the following code:</p>
<pre><code>add x y = x + y
</code></pre>
				<p>You can call this function in GHCi by loading the script and then typing:</p>
<pre><code>add 4 6
</code></pre>
				<p>which should then return:</p>
<pre><code>10
it :: Integer
</code></pre>
				<p>Similarly if your file contained the following code:</p>
<pre><code>add :: (Int, Int) -&gt; Int
add (x,y) = x + y
</code></pre>
				<p>Then you need to type the following to call the function:</p>
<pre><code>add (4,6)
</code></pre>
				<p>Note that the first line in your script <code>add :: (Int, Int) -&gt; Int</code> tells you which types of values you need to pass to the function as parameters. In this case the left hand side (before the <code>::</code>) tells you that the function is called <code>add</code> and the right hand side tells you that the function takes a <strong>tuple</strong> of two Integers <code>(Int, Int)</code> as input (before the <code>-&gt;</code>) and that the output of the function is an <code>Int</code> (after the <code>-&gt;</code>).</p>
			</div>
		</article>

	<br>
	<h2>Intro to Expressions</h2>

		<article>
			<label for="q08"><h3>Div and mod aren’t working?</h3></label>
			<input type="checkbox" id="q08">
			<div class="answer">
				<p>The expressions <code>x `div` y</code> and <code>x`mod` y</code> need <strong>backwards quotes</strong> (left of the ‘1’ key on the keyboard). Note that the above notation is just syntactic sugar for <code>div x y</code> and <code>mod x y</code> - you can interchange them as you like.</p>
			</div>
		</article>

		<article>
			<label for="q09"><h3>What do <code>floor</code> and <code>ceiling</code> do?</h3></label>
			<input type="checkbox" id="q09">
			<div class="answer">
				<p><code>floor x</code> returns the greatest integer not greater than x and similarly, <code>ceiling x</code> returns the least integer not less than x. So <code>floor 1.4</code> will return <code>1</code> and <code>ceiling 1.4</code> will return <code>2</code>. This is different from rounding!</p>
			</div>
		</article>

		<article>
			<label for="q10"><h3>How does <code>1 + if 2==2 then 3 else 4</code> work?</h3></label>
			<input type="checkbox" id="q10">
			<div class="answer">
				<p>The <code>if</code> statement automatically takes precedence over the addition:</p>
<pre class="demo"><code>1 + if 2 == 2 then 3 else 4
1 + ( if 2 == 2 then 3 else 4 )
1 + ( if True then 3 else 4 ) 
-- 2 == 2 is True so we enter the `then` statement
1 + ( 3 )
1 + 3
4
</code></pre>
			</div>
		</article>

		<article>
			<label for="q11"><h3>How does <code>(if 2/=2 then reverse else tail) &quot;abc&quot;</code> work?</h3></label>
			<input type="checkbox" id="q11">
			<div class="answer">
				<p>Here, the <code>if</code> statement determines which function to apply to the string <code>&quot;abc&quot;</code>. Since 2 is <em>not</em> not equal to 2, it&#39;s <code>False</code> and the function performs <code>tail &quot;abc&quot;</code> and returns <code>&quot;bc&quot;</code>.</p>
			</div>
		</article>

		<article>
			<label for="q12"><h3>Why does <code>two * length name</code> produce an error?</h3></label>
			<input type="checkbox" id="q12">
			<div class="answer">
				<p>In this particular example, the variable <code>two</code> is defined as <code>2</code> in your script which Haskell interprets as having type <code>Integer</code>. You can test this by using the <code>:type</code> or <code>:t</code> command: </p>
<pre><code>:t two
two :: Integer
</code></pre>
				<p><code>name</code> is defined as a String <code>&quot;Haskell&quot;</code> (of type<code>[Char]</code>). The function <code>length</code> returns an <code>Int</code> (see <a href="https://www.haskell.org/hoogle/?hoogle=length">here</a>), so <code>length name</code> will return an <code>7</code> of type <code>Int</code>.<br>Now, the multiplication function <code>*</code> requires you to call it with two values of the <strong>same numeric type</strong> (see <a href="https://www.haskell.org/hoogle/?hoogle=%28*%29">here</a>). But we have seen that GHCi interprets the value <code>two</code> as an <code>Integer</code> rather than an <code>Int</code>. Therefore trying to multiply it with  <code>length name</code> (which returns an <code>Int</code>) GHCi will return an error:</p>
<pre><code>Couldn&#39;t match expected type `Integer&#39; with actual type `Int&#39;
In the return type of a call of `length&#39;
In the second argument of `(*)&#39;, namely `length name&#39;
In the expression: two * length name
</code></pre>
				<p>On the other hand, if you type <code>2 * length name</code> into your terminal it will return <code>14</code> of type <code>Int</code>. That is because manually typing a number into GHCi will default to an <code>Int</code>.</p>
				<p>One way around this would be to convert the two parts of the evaluation to the same type. For example you can convert an <code>Int</code> to an <code>Integer</code> by using the <code>fromIntegral</code> function (see <a href="https://www.haskell.org/hoogle/?hoogle=fromIntegral">here</a>).</p>
<pre><code>two * fromIntegral (length name)
14
it :: Integer
</code></pre>
				<p>Or using the <code>fromInteger</code> function (see <a href="https://www.haskell.org/hoogle/?hoogle=fromInteger">here</a>) similarly:</p>
<pre><code>fromIntegertwo * length name
14
it:: Int
</code></pre>
			</div>
		</article>

	<br>
	<h2>Curry, Lamda and Sections</h2>

		<p>See page 64 of David Smallwoods <a href="https://vle.dmu.ac.uk/bbcswebdav/pid-3025849-dt-content-rid-4603139_1/courses/CTEC1901_2015_Y/tut.pdf#page=72">tutorial file</a>. The following examples are taken from <a href="https://wunki.org/posts/2011-10-04-currying-and-partial-application.html">wunki.org</a></p>

		<article>
			<label for="q13"><h3>Curried and uncurried functions</h3></label>
			<input type="checkbox" id="q13">
			<div class="answer">
				<p><strong>Uncurried</strong> function:</p>
<pre><code>fooU :: (Int, Int) -&gt; Int
fooU (x, y) = x * y
</code></pre>
				<p><strong>Curried</strong> function:</p>
<pre><code>fooC :: Int -&gt; Int -&gt; Int
fooC x y = x * y
</code></pre>
				<p>The main difference <em>in very simple terms</em> is that the function parameters <code>x</code> and <code>y</code> are given separately in curried functions compared to a tuple in uncurried functions <code>(x,y)</code>.</p>
			</div>
		</article>

		<article>
			<label for="q14"><h3>Anonymous / Lamda functions</h3></label>
			<input type="checkbox" id="q14">
			<div class="answer">
				<p>Lamda functions are sometimes called anonymous functions because they are not given a name.</p>
<pre><code>fooA :: Int -> Int -> Int
fooA x = \y -> x * y
</code></pre>
				<p>Note that the type signature indicates that the function takes 2 input parameters of type Int, even though in the function expression it only lists 1 of them as <code>x</code>.</p>
				<!--<p>So, if we supply arguments to the function with an x of 2:<br><code>fooA 2 = \y -&gt; 2 + y</code><br>And a y of 3.<br><code>bar 2 = (\y -&gt; 2 + y) 3</code><br>we get<br><code>5</code>.</p>-->
<pre><code>> let foo x = \y -> x * y
> foo 2 3
6
</code></pre>
			</div>
		</article>
<!--
<p><strong>Partial application</strong> of functions:  </p>
<blockquote>
<p>&quot;Partial function application is the ability to take a function of many parameters and apply arguments to some of the parameters to create a new function that needs only the application of the remaining arguments to produce the equivalent of applying all arguments to the original function.&quot; 
(<a href="http://rosettacode.org/wiki/Partial_function_application">Source</a> &amp; <a href="http://rosettacode.org/wiki/Partial_function_application#Haskell">Code examples</a>)</p>
</blockquote>
<p>Consider the following example:</p>
<pre><code>sumTwo</span> x y = x + y
addSeven</span> = sumTwo <span class="hljs-number">7</span>
</code></pre>
<p>The second line is equivalent to:</p>
<pre><code>addSeven</span> = \y -&gt; <span class="hljs-number">7</span> + y
</code></pre>
<p>and:</p>
<pre><code>addSeven y = sumTwo 7 y
</code></pre>


	<h2>Tuples and Lists</h2>

<p><strong>What&#39;s the difference between <em>tuples</em> and <em>lists</em>?</strong><br>Lists are sequences of elements of the <strong>same type</strong>. They are enclosed by square brackets and separated by commas. E.g. <code>[1,2,3]</code> or <code>[&#39;a&#39;,&#39;c&#39;,&#39;b&#39;]</code>.<br>It is possible to have <strong>infinite lists</strong>, for example <code>[1,3..]</code> will produce the list of all odd numbers from 1 to infinity. If you type that into your terminal, remember you can interrupt a process by typing <code>ctrl c</code>.</p>
<p>Tuples are <strong>finite</strong> sequences of elements of possibly different types. They are enclosed by round brackets and separated by commas. E.g. <code>(1, &quot;Hello&quot;)</code> or <code>(True, False)</code>.</p>
<p>Examples:</p>
<ul>
<li><code>[1..9]</code></li>
<li><code>([1..9], [&#39;a&#39;..&#39;z&#39;])</code></li>
<li><code>[[1,3,5,7,9], [0,2,4,6,8]]</code></li>
<li><code>(True, [1..])</code></li>
<li><code>((1, True), (0, False))</code></li>
<li><code>[(&#39;a&#39;, 1), (&#39;b&#39;, 2)]</code></li>
<li><code>(1, 2)</code></li>
</ul>



					<p><strong>Why do strings have the type [Char]?</strong><br>Because in Haskell strings are interpreted as a <strong>list of characters</strong>. This allows you to perform list functions like <code>head</code> and <code>tail</code> on strings:</p>
					<pre><code>head</span> <span class="hljs-string">"Haskell"</span>
					'H'</span>
					it</span> :: Char</span>
					</code></pre>
					<pre><code>tail</span> <span class="hljs-string">"Haskell"</span>
					<span class="hljs-string">"askell"</span>
					it</span> :: [Char</span>]
					</code></pre>
					<p>Also, this means that if you type in lists of characters into GHCi it will return them as strings of type <code>[Char]</code>.</p>
					<pre><code>['H'</span>,'a','s','k','e','l','l']
					<span class="hljs-string">"Haskell"</span>
					it</span> :: [Char</span>]
					</code></pre>
-->



	</section> <!-- end of articles -->

	<section class="links">

		<h1>Useful Links</h1>

		<dl>
			<dt><a href="https://www.haskell.org/">Haskell.org</a></dt>
			<dd>Official Haskell website.</dd>
			<dt><a href="https://www.haskell.org/hoogle/">Hoogle</a></dt>
			<dd>Search tool for Haskell functions.</dd>
		</dl>

	</section> <!-- end of links -->

</main>

<footer>
	<i class="fa fa-copyright"></i> Fania - <span title="February 2017 vulg.">Gueules 143</span>
</footer>

</body>
</html>
